import './polyfills.server.mjs';
import{a as Qt,b as V,c as K,d as B,e as re,f as me,h as T,i as De,j as se,k as Wt,l as Yt,m as ae,n as le,o as Gt,p as Kt,q as Zt,r as Xt,s as nt,t as Te,u as Y,v as G,w as b}from"./chunk-PSR5IDXJ.mjs";import{a as D}from"./chunk-FHE7QMUQ.mjs";import{a as ke,k as $t,m as be,n as it,p as R,q as L,r as oe,t as E}from"./chunk-QFD7N3DA.mjs";import{$ as I,Ab as Be,B as Tt,Bb as S,Cb as O,Db as k,E as Ft,Eb as A,Fb as ye,Gb as ce,Hb as qe,I as At,Ib as Ee,J as Lt,Ja as et,Jb as Re,K as jt,Ka as Me,L as Rt,M as $e,Oa as l,P as Nt,Pa as h,Q as de,R as q,T as Qe,V as H,Va as ge,Vb as ie,W as ct,Ya as Bt,aa as U,ba as Ce,bb as _,c as It,ca as zt,cb as je,db as c,eb as Ie,ec as We,f as Xe,fb as a,g as St,gb as s,hb as g,ia as v,ib as Se,ja as C,jb as Pe,kb as w,lb as p,mb as u,mc as qt,n as Ue,nb as Ve,o as Pt,oa as ue,oc as ne,pa as x,pc as z,qc as j,r as Et,rb as _e,rc as Ht,sb as d,sc as xe,ta as Je,tb as M,tc as P,u as dt,ub as y,va as Vt,vb as X,w as kt,wc as tt,xb as $,yb as Q,yc as Ut,z as Dt,zb as W}from"./chunk-CV33BXM4.mjs";import{a as Oe,b as lt}from"./chunk-VVCT4QZE.mjs";var Jt=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I({type:n,selectors:[["app-subjectmain"]],standalone:!0,features:[S],decls:1,vars:0,template:function(t,o){t&1&&g(0,"router-outlet")},dependencies:[E,it]});let e=n;return e})();var Gi=e=>({show:e});function Ki(e,n){e&1&&(a(0,"div",8),g(1,"div",9),s())}function Zi(e,n){if(e&1){let r=w();a(0,"div",13)(1,"a",14),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.navigateToModules(t.classid))}),g(2,"img",15),a(3,"div",16),d(4),s(),a(5,"div",17)(6,"p",18),d(7),s(),a(8,"p",18),d(9),s()()()()}if(e&2){let r=n.$implicit;l(2),Ve("src","/assets/",r.image,"",Me),l(2),M(r.subject_name),l(3),M(r.Schedule),l(2),y("|",r.school,"|")}}function Xi(e,n){e&1&&(a(0,"div",19),d(1," No Assign Class "),s())}function Ji(e,n){if(e&1&&(a(0,"div",10),_(1,Zi,10,5,"div",11)(2,Xi,2,0,"div",12),s()),e&2){let r=u();l(),c("ngForOf",r.subBlp),l(),c("ngIf",r.subBlp.length===0)}}function en(e,n){e&1&&(a(0,"div",8),g(1,"div",9),s())}function tn(e,n){if(e&1){let r=w();a(0,"div",13)(1,"a",14),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.navigateToModules(t.classid))}),g(2,"img",15),a(3,"div",16),d(4),s(),a(5,"div",17)(6,"p",18),d(7),s(),a(8,"p",18),d(9),s()()()()}if(e&2){let r=n.$implicit;l(2),Ve("src","/assets/",r.image,"",Me),l(2),M(r.subject_name),l(3),M(r.Schedule),l(2),y("|",r.school,"|")}}function nn(e,n){e&1&&(a(0,"div",19),d(1," No Assign Class "),s())}function on(e,n){if(e&1&&(a(0,"div",10),_(1,tn,10,5,"div",11)(2,nn,2,0,"div",12),s()),e&2){let r=u();l(),c("ngForOf",r.subAlsElem),l(),c("ngIf",r.subAlsElem.length===0)}}function rn(e,n){e&1&&(a(0,"div",8),g(1,"div",9),s())}function sn(e,n){if(e&1){let r=w();a(0,"div",13)(1,"a",14),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.navigateToModules(t.classid))}),g(2,"img",15),a(3,"div",16),d(4),s(),a(5,"div",17)(6,"p",18),d(7),s(),a(8,"p",18),d(9),s()()()()}if(e&2){let r=n.$implicit;l(2),Ve("src","/assets/",r.image,"",Me),l(2),M(r.subject_name),l(3),M(r.Schedule),l(2),y("|",r.school,"|")}}function an(e,n){e&1&&(a(0,"div",19),d(1," No Assign Class "),s())}function ln(e,n){if(e&1&&(a(0,"div",10),_(1,sn,10,5,"div",11)(2,an,2,0,"div",12),s()),e&2){let r=u();l(),c("ngForOf",r.subAlsJhs),l(),c("ngIf",r.subAlsJhs.length===0)}}var ei=(()=>{let n=class n{constructor(i,t){this.apiserv=i,this.route=t,this.isModalOpen=!1,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.loadSubjects()}loadSubjects(){let i=localStorage.getItem("id");this.teacherid=i,this.apiserv.getAllTeacherSubjects(this.teacherid).subscribe(t=>{this.allSubjects=t,this.filteredSubjects(),this.isLoading=!1},t=>{console.error("Error fetching subjects:",t),this.isLoading=!1})}filteredSubjects(){this.subBlp=this.allSubjects.filter(i=>i.Program=="Basic Literacy Program"),this.subAlsElem=this.allSubjects.filter(i=>i.Program=="ALS Elementary"),this.subAlsJhs=this.allSubjects.filter(i=>i.Program=="ALS Junior High School")}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}navigateToModules(i){localStorage.setItem("classid",i.toString()),this.route.navigate(["/main/Subject/main/subject/modulesmain",i])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R))},n.\u0275cmp=I({type:n,selectors:[["app-subject"]],standalone:!0,features:[S],decls:22,vars:9,consts:[[1,"wrapper"],[1,"header"],["class","loader-container",4,"ngIf"],["class","cards-container",4,"ngIf"],[1,"mt-5"],[1,"modal",3,"click","ngClass"],[1,"modal-content",3,"click"],[1,"close",3,"click"],[1,"loader-container"],[1,"spinner"],[1,"cards-container"],["class","card",4,"ngFor","ngForOf"],["class","no-classes",4,"ngIf"],[1,"card"],[3,"click"],["alt","Class 1",3,"src"],[1,"card-title"],[1,"card-body"],[1,"subjecttime"],[1,"no-classes"]],template:function(t,o){t&1&&(a(0,"div",0),g(1,"div",1),a(2,"h1"),d(3,"Basic Literacy Program"),s(),_(4,Ki,2,0,"div",2)(5,Ji,3,2,"div",3),a(6,"h1",4),d(7,"ALS Elementary"),s(),_(8,en,2,0,"div",2)(9,on,3,2,"div",3),a(10,"h1",4),d(11,"ALS Junior Highschool"),s(),_(12,rn,2,0,"div",2)(13,ln,3,2,"div",3),s(),a(14,"div",5),p("click",function(){return o.closeModal()}),a(15,"div",6),p("click",function(f){return f.stopPropagation()}),a(16,"span",7),p("click",function(){return o.closeModal()}),d(17,"\xD7"),s(),a(18,"h2"),d(19,"Notifications"),s(),a(20,"p"),d(21,"No new notifications"),s()()()),t&2&&(l(4),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(3),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(3),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngClass",k(7,Gi,o.isModalOpen)))},dependencies:[P,ne,z,j,E],styles:[".content-loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;position:absolute;background-color:#fffc;z-index:999}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.wrapper[_ngcontent-%COMP%]{margin:0 auto;padding-left:40px;max-width:1300px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;gap:20px;margin-top:20px}.card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 5px #0000001a;width:calc(25% - 15px);box-sizing:border-box;transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;border-top-left-radius:8px;border-top-right-radius:8px}.card-title[_ngcontent-%COMP%]{padding-top:15px;color:#000;text-align:center;font-weight:700}.subjecttime[_ngcontent-%COMP%]{color:#000;text-align:center}.level-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-left:20px}#levelSelect[_ngcontent-%COMP%]{padding:5px;font-size:1rem}.notification-icon[_ngcontent-%COMP%]{cursor:pointer}.modal[_ngcontent-%COMP%]{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006;transition:display .5s ease}.modal.show[_ngcontent-%COMP%]{display:block}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:500px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}.no-classes[_ngcontent-%COMP%]{text-align:left;font-size:1.2em;color:gray;margin:20px 0}@media (max-width: 768px){.wrapper[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.card[_ngcontent-%COMP%]{width:calc(50% - 20px)}}@media (max-width: 576px){.wrapper[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.card[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.card[_ngcontent-%COMP%]{width:100%}}"]});let e=n;return e})();var mt=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({});let e=n;return e})();var ut;try{ut=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ut=!1}var Ge=(()=>{let n=class n{constructor(i){this._platformId=i,this.isBrowser=this._platformId?tt(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ut)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};n.\u0275fac=function(t){return new(t||n)(H(Je))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var Ye;function dn(){if(Ye==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ye=!0}))}finally{Ye=Ye||!1}return Ye}function pt(e){return dn()?e:!!e.capture}function ti(e){return e.composedPath?e.composedPath()[0]:e.target}function ii(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ft(e){return Array.isArray(e)?e:[e]}function gt(e){return e instanceof ue?e.nativeElement:e}var cn=(()=>{let n=class n{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();var oi=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({providers:[cn]});let e=n;return e})();var ri=new Set,Ne,mn=(()=>{let n=class n{constructor(i,t){this._platform=i,this._nonce=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pn}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&un(i,this._nonce),this._matchMedia(i)}};n.\u0275fac=function(t){return new(t||n)(H(Ge),H(Vt,8))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function un(e,n){if(!ri.has(e))try{Ne||(Ne=document.createElement("style"),n&&Ne.setAttribute("nonce",n),Ne.setAttribute("type","text/css"),document.head.appendChild(Ne)),Ne.sheet&&(Ne.sheet.insertRule(`@media ${e} {body{ }}`,0),ri.add(e))}catch(r){console.error(r)}}function pn(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var ai=(()=>{let n=class n{constructor(i,t){this._mediaMatcher=i,this._zone=t,this._queries=new Map,this._destroySubject=new Xe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return si(ft(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=si(ft(i)).map(f=>this._registerQuery(f).observable),m=Pt(o);return m=Et(m.pipe(Tt(1)),m.pipe(Lt(1),Dt(0))),m.pipe(Ue(f=>{let N={matches:!1,breakpoints:{}};return f.forEach(({matches:te,query:J})=>{N.matches=N.matches||te,N.breakpoints[J]=te}),N}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let t=this._mediaMatcher.matchMedia(i),m={observable:new It(f=>{let N=te=>this._zone.run(()=>f.next(te));return t.addListener(N),()=>{t.removeListener(N)}}).pipe(jt(t),Ue(({matches:f})=>({query:i,matches:f})),$e(this._destroySubject)),mql:t};return this._queries.set(i,m),m}};n.\u0275fac=function(t){return new(t||n)(H(mn),H(ge))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function si(e){return e.map(n=>n.split(",")).reduce((n,r)=>n.concat(r)).map(n=>n.trim())}function ci(e){return e.buttons===0||e.detail===0}function mi(e){let n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}var ze=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(ze||{}),li="cdk-high-contrast-black-on-white",di="cdk-high-contrast-white-on-black",ht="cdk-high-contrast-active",ui=(()=>{let n=class n{constructor(i,t){this._platform=i,this._document=t,this._breakpointSubscription=ct(ai).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ze.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let t=this._document.defaultView||window,o=t&&t.getComputedStyle?t.getComputedStyle(i):null,m=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),m){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ze.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ze.BLACK_ON_WHITE}return ze.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(ht,li,di),this._hasCheckedHighContrastMode=!0;let t=this.getHighContrastMode();t===ze.BLACK_ON_WHITE?i.add(ht,li):t===ze.WHITE_ON_BLACK&&i.add(ht,di)}}};n.\u0275fac=function(t){return new(t||n)(H(Ge),H(We))},n.\u0275prov=de({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function Cn(){return!0}var Mn=new Qe("mat-sanity-checks",{providedIn:"root",factory:Cn}),we=(()=>{let n=class n{constructor(i,t,o){this._sanityChecks=t,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return ii()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};n.\u0275fac=function(t){return new(t||n)(H(ui),H(Mn,8),H(We))},n.\u0275mod=U({type:n}),n.\u0275inj=q({imports:[mt,mt]});let e=n;return e})();var fe=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(fe||{}),_t=class{constructor(n,r,i,t=!1){this._renderer=n,this.element=r,this.config=i,this._animationForciblyDisabledThroughCss=t,this.state=fe.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},pi=pt({passive:!0,capture:!0}),xt=class{constructor(){this._events=new Map,this._delegateEventHandler=n=>{let r=ti(n);r&&this._events.get(n.type)?.forEach((i,t)=>{(t===r||t.contains(r))&&i.forEach(o=>o.handleEvent(n))})}}addHandler(n,r,i,t){let o=this._events.get(r);if(o){let m=o.get(i);m?m.add(t):o.set(i,new Set([t]))}else this._events.set(r,new Map([[i,new Set([t])]])),n.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,pi)})}removeHandler(n,r,i){let t=this._events.get(n);if(!t)return;let o=t.get(r);o&&(o.delete(i),o.size===0&&t.delete(r),t.size===0&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,pi)))}},fi={enterDuration:225,exitDuration:150},yn=800,gi=pt({passive:!0,capture:!0}),hi=["mousedown","touchstart"],_i=["mouseup","mouseleave","touchend","touchcancel"],Ke=class Ke{constructor(n,r,i,t){this._target=n,this._ngZone=r,this._platform=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,t.isBrowser&&(this._containerElement=gt(i))}fadeInRipple(n,r,i={}){let t=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Oe(Oe({},fi),i.animation);i.centered&&(n=t.left+t.width/2,r=t.top+t.height/2);let m=i.radius||wn(n,r,t),f=n-t.left,N=r-t.top,te=o.enterDuration,J=document.createElement("div");J.classList.add("mat-ripple-element"),J.style.left=`${f-m}px`,J.style.top=`${N-m}px`,J.style.height=`${m*2}px`,J.style.width=`${m*2}px`,i.color!=null&&(J.style.backgroundColor=i.color),J.style.transitionDuration=`${te}ms`,this._containerElement.appendChild(J);let Ct=window.getComputedStyle(J),Yi=Ct.transitionProperty,Mt=Ct.transitionDuration,at=Yi==="none"||Mt==="0s"||Mt==="0s, 0s"||t.width===0&&t.height===0,Le=new _t(this,J,i,at);J.style.transform="scale3d(1, 1, 1)",Le.state=fe.FADING_IN,i.persistent||(this._mostRecentTransientRipple=Le);let yt=null;return!at&&(te||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let wt=()=>this._finishRippleTransition(Le),Ot=()=>this._destroyRipple(Le);J.addEventListener("transitionend",wt),J.addEventListener("transitioncancel",Ot),yt={onTransitionEnd:wt,onTransitionCancel:Ot}}),this._activeRipples.set(Le,yt),(at||!te)&&this._finishRippleTransition(Le),Le}fadeOutRipple(n){if(n.state===fe.FADING_OUT||n.state===fe.HIDDEN)return;let r=n.element,i=Oe(Oe({},fi),n.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",n.state=fe.FADING_OUT,(n._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){let r=gt(n);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,hi.forEach(i=>{Ke._eventManager.addHandler(this._ngZone,i,r,this)}))}handleEvent(n){n.type==="mousedown"?this._onMousedown(n):n.type==="touchstart"?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_i.forEach(r=>{this._triggerElement.addEventListener(r,this,gi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===fe.FADING_IN?this._startFadeOutTransition(n):n.state===fe.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){let r=n===this._mostRecentTransientRipple,{persistent:i}=n.config;n.state=fe.VISIBLE,!i&&(!r||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){let r=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=fe.HIDDEN,r!==null&&(n.element.removeEventListener("transitionend",r.onTransitionEnd),n.element.removeEventListener("transitioncancel",r.onTransitionCancel)),n.element.remove()}_onMousedown(n){let r=ci(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+yn;!this._target.rippleDisabled&&!r&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!mi(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=n.changedTouches;if(r)for(let i=0;i<r.length;i++)this.fadeInRipple(r[i].clientX,r[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{let r=n.state===fe.VISIBLE||n.config.terminateOnPointerUp&&n.state===fe.FADING_IN;!n.config.persistent&&r&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let n=this._triggerElement;n&&(hi.forEach(r=>Ke._eventManager.removeHandler(r,n,this)),this._pointerUpEventsRegistered&&(_i.forEach(r=>n.removeEventListener(r,this,gi)),this._pointerUpEventsRegistered=!1))}};Ke._eventManager=new xt;var xi=Ke;function wn(e,n,r){let i=Math.max(Math.abs(e-r.left),Math.abs(e-r.right)),t=Math.max(Math.abs(n-r.top),Math.abs(n-r.bottom));return Math.sqrt(i*i+t*t)}var he=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({imports:[we,P,oi,we]});let e=n;return e})();var Fe=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({imports:[we,we]});let e=n;return e})();var Mi=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({});let e=n;return e})();var Ae=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=U({type:n}),n.\u0275inj=q({imports:[we,he,he,Mi,we]});let e=n;return e})();var In=()=>["/main/Subject/main"],Sn=()=>["/main/Subject/main/subject"],Pn=e=>({show:e}),En=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"];function kn(e,n){if(e&1){let r=w();a(0,"div",23),p("click",function(){v(r);let t=u();return C(t.openAddModuleModal())}),g(1,"i",24),s()}}function Dn(e,n){e&1&&(a(0,"div",25),g(1,"div",26),s())}function Tn(e,n){if(e&1&&(a(0,"div"),d(1),s()),e&2){let r=u().$implicit;l(),y(" ",r.title," ")}}function Fn(e,n){if(e&1&&(a(0,"span",38),d(1),s()),e&2){let r=u().$implicit;l(),y(" ",r.title," (Closed) ")}}function An(e,n){if(e&1){let r=w();a(0,"div",29)(1,"div",30)(2,"a",31),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.setModuleID(t.modules_id,t.title,t.description))}),_(3,Tn,2,1,"div",32)(4,Fn,2,1,"span",33),s(),a(5,"span",34),d(6),ce(7,"date"),s(),a(8,"button",35),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.openEditModal(t))}),g(9,"i",36),s()(),a(10,"div",37)(11,"p"),d(12),s()()()}if(e&2){let r=n.$implicit,i=u(2);l(2),c("routerLink",A(7,En,i.storedSubjectID,r.modules_id)),l(),c("ngIf",i.isModuleOpen(r.date)),l(),c("ngIf",!i.isModuleOpen(r.date)),l(2),M(qe(7,5,r.date)),l(6),M(r.description)}}function Ln(e,n){if(e&1&&(a(0,"div",27),_(1,An,13,10,"div",28),s()),e&2){let r=u();l(),c("ngForOf",r.modules)}}var yi=(()=>{let n=class n{constructor(i,t,o,m){this.apiService=i,this.route=t,this.cdr=o,this.fb=m,this.isLoading=!1,this.isSubmitting=!1,this.isEditMode=!1,this.selectedModuleId=null,this.subjectID=null,this.isModalOpen=!1,this.today="",this.today=qt(new Date,"yyyy-MM-dd","en"),this.createModule=this.fb.group({classid:[""],title:["",K.required],description:["",K.required],date:["",K.required]})}ngOnInit(){this.loadModules(),this.isLoading=!0}isModuleOpen(i){let t=new Date(i),o=new Date(this.today);return t<=o}loadModules(){this.storedSubjectID=localStorage.getItem("classid"),this.apiService.getModules(this.storedSubjectID).subscribe(i=>{this.modules=i,console.log("Modules:",this.modules),this.isLoading=!1})}save(){if(this.createModule.valid){this.isSubmitting=!0;let i=this.createModule.value;console.log(this.moduleDate),this.isEditMode&&this.selectedModuleId?this.apiService.updateModuleDate(this.selectedModuleId,i).subscribe(t=>{b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=b.stopTimer,m.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Update successfully"}),this.getModules(this.storedSubjectID),this.closeModal()},t=>{b.fire("Error","Failed to update module date: "+t,"error")}):this.apiService.createMods(i).subscribe(()=>{b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:o=>{o.onmouseenter=b.stopTimer,o.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Module added successfully"}),this.getModules(this.storedSubjectID),this.closeModal()},t=>{b.fire("Error","Failed to add module: "+t,"error")})}}getModules(i){this.apiService.getModules(i).subscribe(t=>{this.modules=t,this.moduleDetails=t,this.cdr.detectChanges(),console.log("Module Details:",this.moduleDetails)},t=>{console.error("Error fetching module details:",t)})}openAddModuleModal(){this.isEditMode=!1,this.isModalOpen=!0,this.createModule.reset();let i=localStorage.getItem("classid");i&&this.createModule.patchValue({classid:i})}openEditModal(i){this.isEditMode=!0,this.isModalOpen=!0,this.selectedModuleId=i.modules_id,this.moduleDate=i.date,this.createModule.patchValue({classid:localStorage.getItem("classid"),title:i.title,description:i.description,date:i.date})}closeModal(){this.isModalOpen=!1,this.isSubmitting=!1,this.selectedModuleId=null,this.createModule.reset()}setModuleID(i,t,o){localStorage.setItem("moduleid",i),localStorage.setItem("moduletitle",t),localStorage.setItem("moduledescription",o)}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R),h(ie),h(Te))},n.\u0275cmp=I({type:n,selectors:[["app-modules"]],standalone:!0,features:[S],decls:39,vars:14,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],["class","notification-icon",3,"click",4,"ngIf"],["class","loader-container",4,"ngIf"],["class","modules",4,"ngIf"],[1,"modal",3,"click","ngClass"],[1,"modal-content",3,"click"],[1,"close",3,"click"],[3,"ngSubmit","formGroup"],["hidden","","formControlName","classid","autocomplete","off"],[1,"input-group"],[1,"label"],["formControlName","title","autocomplete","off","type","text",1,"input"],[1,"input-group2"],[1,"label2"],["formControlName","description","autocomplete","off",1,"textarea"],["formControlName","date","type","date",1,"input2"],[1,"button-group"],[1,"submit-btn",3,"disabled"],[1,"notification-icon",3,"click"],["aria-hidden","true",1,"fa","fa-plus","fa-2x"],[1,"loader-container"],[1,"spinner"],[1,"modules"],["class","module",4,"ngFor","ngForOf"],[1,"module"],[1,"module-header"],[2,"font-weight","bold","text-decoration","none","color","#333","font-size","1rem",3,"click","routerLink"],[4,"ngIf"],["class","closed-module","style","color: gray;",4,"ngIf"],[1,"module-date"],[1,"edit-btn","nav-btn2",3,"click"],["aria-hidden","true",1,"fa","fa-pencil-square-o","fa-lg"],[1,"module-description"],[1,"closed-module",2,"color","gray"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7," Subjects "),s()(),a(8,"li",4),d(9,"Modules"),s()()(),a(10,"div",5)(11,"h1"),d(12,"My Modules"),s(),_(13,kn,2,0,"div",6),s(),_(14,Dn,2,0,"div",7)(15,Ln,2,1,"div",8),a(16,"div",9),p("click",function(){return o.closeModal()}),a(17,"div",10),p("click",function(f){return f.stopPropagation()}),a(18,"span",11),p("click",function(){return o.closeModal()}),d(19,"\xD7"),s(),a(20,"h1"),d(21),s(),a(22,"form",12),p("ngSubmit",function(){return o.save()}),g(23,"input",13),a(24,"div",14)(25,"label",15),d(26,"Title"),s(),g(27,"input",16),s(),a(28,"div",17)(29,"label",18),d(30,"Description"),s(),g(31,"textarea",19),s(),a(32,"div",17)(33,"label",18),d(34,"Date"),s(),g(35,"input",20),s(),a(36,"div",21)(37,"button",22),d(38),s()()()()()),t&2&&(l(3),c("routerLink",O(10,In)),l(3),c("routerLink",O(11,Sn)),l(7),c("ngIf",!o.isLoading),l(),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngClass",k(12,Pn,o.isModalOpen)),l(5),M(o.isEditMode?"Edit Module Date":"Add Module"),l(),c("formGroup",o.createModule),l(15),c("disabled",o.isSubmitting),l(),M(o.isEditMode?"Save Changes":"Add"))},dependencies:[E,L,P,ne,z,j,xe,he,Ae,Fe,G,se,V,B,re,ae,le],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.main-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:20px}.nav-btn2[_ngcontent-%COMP%]{padding:5px 10px;margin-right:5px;margin-left:15px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:0 1 auto;max-width:200px}.nav-btn2[_ngcontent-%COMP%]:hover{background-color:#0056b3}.content-loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;position:absolute;background-color:#fffc;z-index:999}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modules[_ngcontent-%COMP%]{width:100%;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .module-header[_ngcontent-%COMP%]   .closed-module[_ngcontent-%COMP%]{font-weight:700;text-decoration:none;color:#333;font-size:1rem}.module-date[_ngcontent-%COMP%]{color:#888;font-size:.9rem;margin-left:auto}.open-btn[_ngcontent-%COMP%]{margin-left:10px}.module-description[_ngcontent-%COMP%]{margin-top:5px;font-size:.9rem;color:#666}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:600px;max-width:100%;position:relative}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%]{color:#05060fc2}.input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input2[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}"]});let e=n;return e})();var jn=e=>["/main/Subject/main/subject/modulesmain/",e,"students"],Rn=e=>["/main/Subject/main/subject/modulesmain/",e,"assessments"],Nn=e=>["/main/Subject/main/subject/modulesmain/",e];function zn(e,n){if(e&1){let r=w();a(0,"div",13)(1,"div",14)(2,"h3"),d(3),s(),a(4,"ul")(5,"li"),d(6),s()(),a(7,"div",15)(8,"input",16,0),W("ngModelChange",function(t){v(r);let o=u();return Q(o.newAnnouncementTitle,t)||(o.newAnnouncementTitle=t),C(t)}),s(),g(10,"br"),a(11,"textarea",17,1),W("ngModelChange",function(t){v(r);let o=u();return Q(o.newAnnouncementInstruction,t)||(o.newAnnouncementInstruction=t),C(t)}),s(),g(13,"br"),a(14,"button",18),p("click",function(){v(r);let t=_e(9),o=_e(12),m=u();return C(m.addAnnouncement(t,o))}),d(15,"Save"),s(),a(16,"button",19),p("click",function(){v(r);let t=u();return C(t.closeModal())}),d(17,"Close"),s()()()()}if(e&2){let r=u();l(3),M((r.announcements==null?null:r.announcements.title)||"*"),l(3),M((r.announcements==null?null:r.announcements.instruction)||"*"),l(2),$("ngModel",r.newAnnouncementTitle),l(3),$("ngModel",r.newAnnouncementInstruction),l(3),c("disabled",r.isSubmitting)}}var wi=(()=>{let n=class n{constructor(i,t,o,m){this.apiserv=i,this.route=t,this.http=o,this.cdr=m,this.isSubmitting=!1,this.subjectId=null,this.isModalOpen=!1,this.title="",this.instruction="",this.newAnnouncementTitle="",this.newAnnouncementInstruction=""}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}toggleModal(){this.isModalOpen=!this.isModalOpen,this.isModalOpen&&this.announcements&&(this.newAnnouncementTitle=this.announcements.title,this.newAnnouncementInstruction=this.announcements.instruction)}ngOnInit(){this.announcementForm=new me({title:new T("",K.required),instruction:new T("",K.required)});let i=localStorage.getItem("classid");this.classid=i,this.route.params.subscribe(t=>{this.subjectId=+t.id,this.subjectId?(this.getSubjectDetails(this.classid),this.viewAnnouncement()):console.error("Invalid ID:",this.subjectId)})}getSubjectDetails(i){this.apiserv.getSpecSubjects(i).subscribe(t=>{this.subjectDetail=t,this.cdr.detectChanges(),console.log("Subject Details:",this.subjectDetail)},t=>{console.error("Error fetching subject details:",t)})}addAnnouncement(i,t){if(this.isSubmitting=!0,!this.newAnnouncementTitle.trim()&&!this.newAnnouncementInstruction.trim()){this.deleteAnnouncement();return}let o={classid:this.classid,title:this.newAnnouncementTitle,instruction:this.newAnnouncementInstruction};this.apiserv.createAnnouncement(o).subscribe(m=>{this.viewAnnouncement(),this.resetForm(),this.isSubmitting=!1})}deleteAnnouncement(){this.apiserv.deleteAnnouncement(this.classid).subscribe(i=>{this.viewAnnouncement(),this.resetForm()})}viewAnnouncement(){console.log(this.classid),this.apiserv.getAnnouncement(this.classid).subscribe(i=>{this.announcements=i.announce,this.announcementid=i.announceid,console.log(this.announcements),console.log(this.announcementid),console.log(this.classid),this.announcementid==this.classid&&b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.onmouseenter=b.stopTimer,o.onmouseleave=b.resumeTimer}}).fire({icon:"question",title:"There is still an Announcement"})})}resetForm(){this.newAnnouncementTitle="",this.newAnnouncementInstruction=""}};n.\u0275fac=function(t){return new(t||n)(h(D),h(be),h(ke),h(ie))},n.\u0275cmp=I({type:n,selectors:[["app-modulesmain"]],standalone:!0,features:[S],decls:28,vars:13,consts:[["titleInput",""],["instructionInput",""],[1,"topnav"],[1,"left-section"],["alt","Profile Picture",1,"profile-pic",3,"src"],[1,"course-info"],[1,"right-section"],[1,"inline-list"],[3,"routerLink"],[1,"announcement-trigger",3,"click"],["aria-hidden","true",1,"fa","fa-bullhorn","fa-lg"],[1,"main-content"],["class","announcement-dropdown",4,"ngIf"],[1,"announcement-dropdown"],[1,"dropdown-content"],[1,"add-announcement"],["type","text","placeholder","Announcement Title",3,"ngModelChange","ngModel"],["placeholder","Announcement Instruction","rows","3",2,"width","100%",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"ms-2",3,"click"]],template:function(t,o){t&1&&(a(0,"div",2)(1,"div",3),g(2,"img",4),a(3,"div",5)(4,"h2"),d(5),s(),a(6,"h6"),d(7),s()()(),a(8,"div",6)(9,"ul",7)(10,"li")(11,"a",8),d(12,"Students"),s(),d(13," | "),s(),a(14,"li")(15,"a",8),d(16,"Assessments"),s(),d(17," | "),s(),a(18,"li")(19,"a",8),d(20,"Modules"),s(),d(21," | "),s(),a(22,"li")(23,"div",9),p("click",function(){return o.toggleModal()}),g(24,"i",10),s()()()()(),a(25,"div",11),g(26,"router-outlet"),s(),_(27,zn,18,5,"div",12)),t&2&&(l(2),c("src","/assets/"+o.subjectDetail.image,Me),l(3),M(o.subjectDetail.subject_name),l(2),M(o.subjectDetail.Schedule),l(4),c("routerLink",k(7,jn,o.subjectDetail.classid)),l(4),c("routerLink",k(9,Rn,o.subjectDetail.classid)),l(4),c("routerLink",k(11,Nn,o.subjectDetail.classid)),l(8),c("ngIf",o.isModalOpen))},dependencies:[E,it,L,P,j,Y,V,B,De,G],styles:[".topnav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;box-shadow:0 2px 4px #0000001a;position:relative}.announcement-dropdown[_ngcontent-%COMP%]{position:absolute;top:50px;left:280px;width:1150px;background-color:#add8e6bf;border:1px solid #ccc;box-shadow:0 4px 8px #0000001a;z-index:1000;padding:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.dropdown-content[_ngcontent-%COMP%]{opacity:1;color:#000;padding:10px;max-height:300px;overflow-y:auto}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 0;color:#000}.add-announcement[_ngcontent-%COMP%]{margin-top:10px}.add-announcement[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:5px;padding:8px;resize:vertical}.add-announcement[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px;margin-top:10px}.add-announcement[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;background-color:green;color:#fff;border:none;cursor:pointer}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center}.course-info[_ngcontent-%COMP%]{margin-left:20px}.profile-pic[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.course-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#000}.course-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#666}.right-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center}.inline-list[_ngcontent-%COMP%]{display:flex;list-style-type:none;text-decoration:none;padding:0;margin:0}.inline-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:10px}.announcement-trigger[_ngcontent-%COMP%]{cursor:pointer}.right-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding:20px;max-width:1000px;width:100%;margin:0 auto}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%]{color:#05060fc2}.input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input2[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.topnav[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.left-section[_ngcontent-%COMP%]{text-align:center}.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px}.course-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-top:10px}.course-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px}.right-section[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex;gap:15px}.announcement-trigger[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;justify-content:center;align-items:center;background-color:#007bff;color:#fff;border-radius:50%}.announcement-dropdown[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;background-color:#fff;z-index:1050;box-shadow:0 4px 6px #0000001a;border-radius:10px;padding:20px}.add-announcement[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .add-announcement[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.add-announcement[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}}"]});let e=n;return e})();var Vn=()=>["/main/Home/main/home"],Bn=()=>["/main/Subject/main/subject"],qn=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],Oi=e=>({show:e}),Hn=e=>({show2:e}),Un=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"addmat"],$n=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"updateLesson"],Qn=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"upload"],Wn=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"discuss"],Yn=e=>({color:e}),Ii=()=>[];function Gn(e,n){if(e&1&&(a(0,"button",32),g(1,"i",33),d(2," Lessons "),s()),e&2){let r=u();c("routerLink",A(1,Un,r.subjectID,r.moduleID))}}function Kn(e,n){e&1&&(a(0,"div",34),g(1,"div",35),s())}function Zn(e,n){if(e&1&&(a(0,"a",58),d(1),s()),e&2){let r=u(2).$implicit;c("href","http://localhost:8000/storage/"+r.file,Me),l(),M(r.file)}}function Xn(e,n){if(e&1){let r=w();a(0,"i",59),p("click",function(){v(r);let t=u(2).$implicit,o=u(2);return C(o.deleteFile(t.lesson_id))}),s()}}function Jn(e,n){if(e&1&&(a(0,"div")(1,"li"),_(2,Zn,2,2,"a",56)(3,Xn,1,0,"i",57),s()()),e&2){let r=u().$implicit;l(2),c("ngIf",r.file),l(),c("ngIf",r.file)}}function eo(e,n){if(e&1){let r=w();Se(0),a(1,"li")(2,"a",58),d(3),s(),a(4,"i",59),p("click",function(){v(r);let t=u(2),o=t.$implicit,m=t.index,f=u(2);return C(f.deleteMediaFile(o.media_ids.split(",")[m]||o.media_ids))}),s()(),g(5,"br"),Pe()}if(e&2){let r=n.$implicit;l(2),c("href","http://localhost:8000/storage/"+r,Me),l(),M(r)}}function to(e,n){if(e&1&&(a(0,"div"),_(1,eo,6,2,"ng-container",53),s()),e&2){let r=u().$implicit;l(),c("ngForOf",r.media_files.split(","))}}function io(e,n){if(e&1){let r=w();a(0,"button",65),p("click",function(){v(r);let t=u().$implicit,o=u(3);return C(o.toggleAssessmentStatus(t))}),g(1,"i",66),d(2," Open Assessment "),s()}}function no(e,n){if(e&1){let r=w();a(0,"button",67),p("click",function(){v(r);let t=u().$implicit,o=u(3);return C(o.toggleAssessmentStatus(t))}),g(1,"i",68),d(2," Close Assessment "),s()}}function oo(e,n){if(e&1){let r=w();a(0,"li")(1,"a",60),p("click",function(){let t=v(r).$implicit,o=u().$implicit,m=u(2);return C(m.navigateToQuestions(t.assessmentID,o.topic_title))}),d(2),s(),a(3,"i",61),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.editAssessment(t.assessmentID))}),s(),a(4,"i",59),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.deleteAssessment(t.assessmentID))}),s(),a(5,"h6",62),d(6),ce(7,"date"),s(),a(8,"div",23),_(9,io,3,0,"button",63)(10,no,3,0,"button",64),s()()}if(e&2){let r=n.$implicit;l(),c("ngStyle",k(8,Yn,r.available?"blue":"gray")),l(),X(" ",r.Title," (",r.available?"Open":"Closed",") "),l(4),y(" Due Date: ",qe(7,6,r.Due_date)," "),l(3),c("ngIf",r.available===0),l(),c("ngIf",r.available===1)}}function ro(e,n){if(e&1){let r=w();a(0,"div",38)(1,"div",39)(2,"div")(3,"div",40)(4,"h5"),d(5),s(),a(6,"h6",41),d(7),ce(8,"date"),s()(),g(9,"p",42),s(),a(10,"div",43)(11,"button",44),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.toggleDropdown(t))}),g(12,"i",45),s(),a(13,"div",46)(14,"a",47),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.updateLesson(t.lesson_id))}),d(15,"Update"),s(),a(16,"a",47),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.uploadFile(t.lesson_id))}),d(17,"Upload"),s(),a(18,"a",48),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.openModal2(t.lesson_id))}),d(19,"Add Assessment"),s(),a(20,"a",48),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.deleteLesson(t))}),d(21,"Delete"),s()()()(),a(22,"div",49)(23,"div",50)(24,"div",51)(25,"h6"),d(26,"Download Files"),s(),a(27,"ul"),_(28,Jn,4,2,"div",52)(29,to,2,1,"div",52),s()(),a(30,"div",51)(31,"h6"),d(32,"Assessments"),s(),a(33,"ul"),_(34,oo,11,10,"li",53),s()()()(),a(35,"div",54)(36,"a",55),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.setLessonID(t))}),d(37),s()()()}if(e&2){let r=n.$implicit,i=n.index,t=u(2);je("id","lesson-"+i),l(5),M(r.topic_title),l(2),M(Ee(8,12,r.created_at,"MMMM d, y")),l(2),c("innerHTML",t.transformText(r.lesson),et),l(4),c("ngClass",k(15,Oi,r.isDropdownOpen)),l(),c("routerLink",A(17,$n,t.subjectID,t.moduleID)),l(2),c("routerLink",A(20,Qn,t.subjectID,t.moduleID)),l(12),c("ngIf",r.file),l(),c("ngIf",r.media_files),l(5),c("ngForOf",r.filteredAssessments),l(2),c("routerLink",A(23,Wn,t.subjectID,t.moduleID)),l(),y(" Discussions | ",r.discussion_count||0," Topic/s ")}}function so(e,n){if(e&1&&(a(0,"div",36),_(1,ro,38,26,"div",37),s()),e&2){let r=u();l(),c("ngForOf",r.lessons)}}function ao(e,n){if(e&1&&(a(0,"div")(1,"div",73)(2,"a",74)(3,"h6"),d(4),s()()()()),e&2){let r=n.$implicit,i=n.index;l(2),c("routerLink",O(3,Ii))("fragment","lesson-"+i),l(2),M(r.topic_title)}}function lo(e,n){if(e&1&&(a(0,"div",69)(1,"div",70)(2,"h4"),d(3),s(),_(4,ao,5,4,"div",53),a(5,"div",71)(6,"a",72),d(7,"Back to Top"),s()()()()),e&2){let r=u();l(3),M(r.moduleTitle),l(),c("ngForOf",r.lessons),l(2),c("routerLink",O(4,Ii))("fragment","top")}}var Si=(()=>{let n=class n{constructor(i,t,o,m,f,N,te){this.apiService=i,this.route=t,this.router=o,this.http=m,this.cdr=f,this.viewportScroller=N,this.fb=te,this.isLoading=!1,this.isEditModalOpen=!1,this.isSubmitting=!1,this.subjectID=null,this.createAssessment=new me({title:new T(null),lesson_id:new T(null),instruction:new T(null),description:new T(null),due_date:new T(null)}),this.isModalOpen2=!1,this.editAssessmentForm=this.fb.group({assessmentID:[""],title:["",K.required],instruction:["",K.required],description:["",K.required],due_date:["",K.required]})}ngOnInit(){this.isLoading=!0;let i=localStorage.getItem("classid"),t=localStorage.getItem("moduleid"),o=localStorage.getItem("moduletitle");i?(this.subjectID=+i,this.moduleID=t,this.moduleTitle=o,this.loadMaterials(this.moduleID)):console.error("No subjectID found in localStorage."),this.route.fragment.subscribe(m=>{m&&this.viewportScroller.scrollToAnchor(m)}),this.loadAssessments()}loadMaterials(i){this.apiService.getLessons(i).subscribe(t=>{this.lessons=t.lessons,console.log("Lessons:",this.lessons),this.lessons.forEach(o=>{this.countDiscussion(o),o.filteredAssessments=this.assess.filter(m=>m.lesson_id===o.lesson_id)}),this.checkLoadingComplete()},t=>{console.error("Error fetching lessons:",t),this.checkLoadingComplete()})}transformText(i){return i.split(/\n\s*\n/).map(o=>o.replace(/\.\s*/g,".<br>")).map(o=>`<p>${o}</p>`).join("")}showLessons(i){this.apiService.getLessons(i).subscribe(t=>{this.lessons=t.lessons,console.log("Lessons:",this.lessons),this.lessons.forEach(o=>{this.countDiscussion(o),o.filteredAssessments=this.assess.filter(m=>m.lesson_id===o.lesson_id)}),this.checkLoadingComplete()},t=>{console.error("Error fetching lessons:",t),this.checkLoadingComplete()})}getLessons(i){this.apiService.getLessons(i).subscribe(t=>{this.lessons=t,this.LessonDetails=t,this.cdr.detectChanges(),console.log("Lessons Details:",this.LessonDetails),this.lessons.forEach(o=>{o.filteredAssessments=this.assess.filter(m=>m.lesson_id===o.lesson_id)})},t=>{console.error("Error fetching lesson details:",t)})}loadAssessments(){this.apiService.getAssessment().subscribe(i=>{this.assess=i,console.log("Assessments:",this.assess),this.lessons.forEach(t=>{t.filteredAssessments=this.assess.filter(o=>o.lesson_id===t.lesson_id)}),this.checkLoadingComplete()},i=>{console.error("Error fetching assessments:",i),this.checkLoadingComplete()})}checkLoadingComplete(){this.lessons!==void 0&&this.assess!==void 0&&(this.isLoading=!1)}countDiscussion(i){localStorage.setItem("lessonid",i.lesson_id),console.log("lesson ID: "+i),this.apiService.countDiscussion(i.lesson_id).subscribe(t=>{i.cDiscussion=t})}setLessonID(i){localStorage.setItem("idLesson",i.lesson_id),localStorage.setItem("lessonTitle",i.topic_title)}openModal2(i){this.isModalOpen2=!0,this.LessonID=i,this.createAssessment=new me({title:new T(null),lesson_id:new T(this.LessonID),instruction:new T(null),description:new T(null),due_date:new T(null)})}closeModal2(){this.isModalOpen2=!1}toggleDropdown(i){i.isDropdownOpen=!i.isDropdownOpen}save(){this.isSubmitting=!0,this.createAssessment.valid?(this.isSubmitting=!0,this.apiService.createAssess(this.createAssessment.value).subscribe(i=>{console.log("Assessment created:",i),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:o=>{o.onmouseenter=b.stopTimer,o.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Added new assessment"}),this.loadAssessments(),this.closeModal2(),this.isSubmitting=!1},i=>{console.error("Error creating assessment:",i),b.fire({title:"The due date cannot be earlier than today.",icon:"error"}),this.isSubmitting=!1})):(console.error("Form is not valid"),b.fire({title:"A Form is not valid",icon:"error"}),this.isSubmitting=!1)}toggleAssessmentStatus(i){if(i.isOpen)i.isOpen=!1;else{let t=this.calculateNewDueDate(),o=i.available===0?1:0;this.apiService.updateAvailability(i.assessmentID,o).subscribe(m=>{console.log(m.message),i.isOpen=!0,i.available=o},m=>{console.error("Error updating due date:",m)})}}calculateNewDueDate(){let i=new Date;return i.setDate(i.getDate()+1),i.toISOString().split("T")[0]}navigateToQuestions(i,t){let o=localStorage.getItem("classid");localStorage.setItem("assid",i.toString()),localStorage.setItem("lessTitle",t),this.router.navigate(["/main/Subject/main/subject/modulesmain",o,"modules",this.moduleID,"assess","question",i])}updateLesson(i){this.selectLessonID=i,console.log("Selected Lesson ID",this.selectLessonID),localStorage.setItem("Lesson Id",this.selectLessonID)}uploadFile(i){this.selectLessonID=i,console.log("Selected Lesson ID",this.selectLessonID),localStorage.setItem("Lesson Id",this.selectLessonID)}deleteLesson(i){b.fire({title:`Are you sure you want to delete the lesson: "${i.topic_title}"?`,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(t=>{t.isConfirmed&&this.apiService.deleteLesson(i.lesson_id).subscribe(o=>{console.log("Lesson deleted:",o),this.showLessons(this.moduleID),this.cdr.detectChanges(),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:f=>{f.onmouseenter=b.stopTimer,f.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Deleted!"})},o=>{console.error("Error deleting lesson:",o),b.fire({title:"Error!",text:"There was an issue deleting the lesson. Please try again.",icon:"error"})})})}deleteAssessment(i){console.log(i),b.fire({title:"Are you sure you want to delete this Assessment?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(t=>{t.isConfirmed&&this.apiService.deleteAssessment(i).subscribe(o=>{console.log("Lesson deleted:",o),this.loadAssessments(),this.cdr.detectChanges(),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:f=>{f.onmouseenter=b.stopTimer,f.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Deleted"})},o=>{console.error("Error deleting assessment:",o),b.fire({title:"Error!",text:"There was an issue deleting the assessment. Please try again.",icon:"error"})})})}editAssessment(i){this.apiService.getSingleAssessment(i).subscribe(t=>{this.editAssessmentForm.patchValue({assessmentID:t.assessmentid,title:t.title,instruction:t.instruction,description:t.description,due_date:t.due_date}),this.isEditModalOpen=!0})}closeEditModal(){this.isEditModalOpen=!1}saveEditedAssessment(){if(this.editAssessmentForm.valid){let i=this.editAssessmentForm.value;this.apiService.updateAssessment(i.assessmentID,i).subscribe(t=>{console.log("Assessment updated successfully",t),this.loadAssessments(),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:m=>{m.onmouseenter=b.stopTimer,m.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Updated assessment"}),this.isEditModalOpen=!1},t=>{console.error("Error updating assessment:",t),b.fire({title:"Error Updating Assessment",icon:"error"})})}}deleteFile(i){b.fire({title:"Are you sure you want to delete this file?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(t=>{t.isConfirmed&&this.apiService.deleteFile(i).subscribe(o=>{console.log("File deleted:",o),this.showLessons(this.moduleID),this.cdr.detectChanges(),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:f=>{f.onmouseenter=b.stopTimer,f.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Deleted"}),this.getLessons(this.moduleID)},o=>{console.error("Error deleting file:",o),b.fire({title:"Error!",text:"There was an issue deleting the file. Please try again.",icon:"error"})})})}deleteMediaFile(i){b.fire({title:"Are you sure you want to delete this file?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(t=>{t.isConfirmed&&this.apiService.deleteMediaFile(i).subscribe(o=>{console.log("File deleted:",o),b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:f=>{f.onmouseenter=b.stopTimer,f.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Deleted"}),this.getLessons(this.moduleID),this.showLessons(this.moduleID),this.loadAssessments()},o=>{console.error("Error deleting file:",o),b.fire({title:"Error!",text:"There was an issue deleting the file. Please try again.",icon:"error"})})})}};n.\u0275fac=function(t){return new(t||n)(h(D),h(be),h(R),h(ke),h(ie),h(Ut),h(Te))},n.\u0275cmp=I({type:n,selectors:[["app-mat"]],standalone:!0,features:[S],decls:73,vars:21,consts:[["id","top"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],[1,"button-group",2,"margin-top","10px"],["class","nav-btn","style","display: flex; align-items: center;",3,"routerLink",4,"ngIf"],[1,"container-fluid","d-flex","gap-4","justify-content-center"],["class","loader-container",4,"ngIf"],["class","col-md-9",4,"ngIf"],["class","col-md-3",4,"ngIf"],[1,"modal",3,"click","ngClass"],[1,"modal-content",3,"click"],[1,"close",3,"click"],[3,"ngSubmit","formGroup"],[1,"input-group"],[1,"label"],["formControlName","title","autocomplete","off","name","title","id","title","type","text",1,"input"],["formControlName","instruction","autocomplete","off","name","description","id","description",1,"textarea"],["formControlName","description","autocomplete","off","name","description","id","description",1,"textarea"],["formControlName","due_date","autocomplete","off","name","dueDate","id","dueDate","type","date",1,"input"],[1,"button-group"],[1,"submit-btn",3,"disabled"],[1,"modal2",3,"click","ngClass"],[1,"modal-content2",3,"click"],[1,"close2",3,"click"],["formControlName","title","autocomplete","off","name","title","id","edit-title","type","text",1,"input"],["formControlName","instruction","autocomplete","off","name","instruction","id","edit-instruction",1,"textarea"],["formControlName","description","autocomplete","off","name","description","id","edit-description",1,"textarea"],["formControlName","due_date","autocomplete","off","name","dueDate","id","edit-dueDate","type","date",1,"input"],[1,"nav-btn",2,"display","flex","align-items","center",3,"routerLink"],["aria-hidden","true",1,"fa","fa-plus",2,"margin-right","8px"],[1,"loader-container"],[1,"spinner"],[1,"col-md-9"],["class","card","style","margin-bottom: 40px;",4,"ngFor","ngForOf"],[1,"card",2,"margin-bottom","40px"],[1,"card-header","d-flex","align-items-center",2,"position","relative"],[2,"display","flex","justify-content","space-between","align-items","center","gap","350px"],[2,"font-weight","normal","color","gray"],[3,"innerHTML"],[1,"dropdown",2,"position","absolute","top","10px","right","10px"],[1,"dropbtn",3,"click"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-content",3,"ngClass"],[3,"click","routerLink"],[3,"click"],[1,"card-body"],[1,"row"],[1,"col-6"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-footer"],["routerLinkActive","active",3,"click","routerLink"],["target","_blank",3,"href",4,"ngIf"],["class","fa fa-trash fa-1x ms-2","style","cursor: pointer;","aria-hidden","true",3,"click",4,"ngIf"],["target","_blank",3,"href"],["aria-hidden","true",1,"fa","fa-trash","fa-1x","ms-2",2,"cursor","pointer",3,"click"],[2,"cursor","pointer","text-decoration","underline",3,"click","ngStyle"],["aria-hidden","true",1,"fa","fa-pencil","fa-1x","ms-2",2,"cursor","pointer",3,"click"],[2,"color","red"],["class","nav-btn2","style","background-color: blue;",3,"click",4,"ngIf"],["class","nav-btn2","style","background-color: red;",3,"click",4,"ngIf"],[1,"nav-btn2",2,"background-color","blue",3,"click"],["aria-hidden","true",1,"fa","fa-check",2,"margin-right","8px"],[1,"nav-btn2",2,"background-color","red",3,"click"],["aria-hidden","true",1,"fa","fa-times",2,"margin-right","8px"],[1,"col-md-3"],[1,"toc","sticky-toc",2,"text-align","end"],[1,"toc-item",2,"margin-top","20px"],[2,"color","blue","text-decoration","underline",3,"routerLink","fragment"],[1,"toc-item"],[3,"routerLink","fragment"]],template:function(t,o){t&1&&(g(0,"a",0),a(1,"nav",1)(2,"ol",2)(3,"li",3)(4,"a",4),d(5,"Home"),s()(),a(6,"li",3)(7,"a",4),d(8," Subjects "),s()(),a(9,"li",5)(10,"a",4),d(11," Modules "),s()(),a(12,"li",5),d(13,"Lessons"),s()()(),a(14,"div",6)(15,"div",7),_(16,Gn,3,4,"button",8),s()(),a(17,"div",9),_(18,Kn,2,0,"div",10)(19,so,2,1,"div",11)(20,lo,8,5,"div",12),s(),a(21,"div",13),p("click",function(){return o.closeModal2()}),a(22,"div",14),p("click",function(f){return f.stopPropagation()}),a(23,"span",15),p("click",function(){return o.closeModal2()}),d(24,"\xD7"),s(),a(25,"h2"),d(26,"Add Assessment"),s(),a(27,"form",16),p("ngSubmit",function(){return o.save()}),a(28,"div",17)(29,"label",18),d(30,"Title"),s(),g(31,"input",19),s(),a(32,"div",17)(33,"label",18),d(34,"Instruction"),s(),g(35,"textarea",20),s(),a(36,"div",17)(37,"label",18),d(38,"Description"),s(),g(39,"textarea",21),s(),a(40,"div",17)(41,"label",18),d(42,"Due Date"),s(),g(43,"input",22),s(),a(44,"div",23)(45,"button",24),d(46,"ADD"),s()()()()(),a(47,"div",25),p("click",function(){return o.closeEditModal()}),a(48,"div",26),p("click",function(f){return f.stopPropagation()}),a(49,"span",27),p("click",function(){return o.closeEditModal()}),d(50,"\xD7"),s(),a(51,"h2"),d(52,"Edit Assessment"),s(),a(53,"form",16),p("ngSubmit",function(){return o.saveEditedAssessment()}),a(54,"div",17)(55,"label",18),d(56,"Title"),s(),g(57,"input",28),s(),a(58,"div",17)(59,"label",18),d(60,"Instruction"),s(),g(61,"textarea",29),s(),a(62,"div",17)(63,"label",18),d(64,"Description"),s(),g(65,"textarea",30),s(),a(66,"div",17)(67,"label",18),d(68,"Due Date"),s(),g(69,"input",31),s(),a(70,"div",23)(71,"button",24),d(72,"Save"),s()()()()()),t&2&&(l(4),c("routerLink",O(13,Vn)),l(3),c("routerLink",O(14,Bn)),l(3),c("routerLink",k(15,qn,o.subjectID)),l(6),c("ngIf",!o.isLoading),l(2),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngClass",k(17,Oi,o.isModalOpen2)),l(6),c("formGroup",o.createAssessment),l(18),c("disabled",o.isSubmitting),l(2),c("ngClass",k(19,Hn,o.isEditModalOpen)),l(6),c("formGroup",o.editAssessmentForm),l(18),c("disabled",o.isSubmitting))},dependencies:[P,ne,z,j,Ht,xe,E,L,oe,Y,se,V,B,re,G,ae,le],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.nav-btn[_ngcontent-%COMP%]{padding:10px 15px;margin-right:5px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:0 1 auto;max-width:200px}.nav-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.nav-btn2[_ngcontent-%COMP%]{padding:5px 10px;margin-right:5px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:0 1 auto;max-width:200px}.nav-btn2[_ngcontent-%COMP%]:hover{background-color:#0056b3}.notification-icon[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;color:#007bff}.notification-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#0056b3}.card[_ngcontent-%COMP%]{margin:0 auto;width:100%}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.container[_ngcontent-%COMP%]{display:flex;gap:20px;justify-content:center}.content-loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;position:absolute;background-color:#fffc;z-index:999}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropbtn[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;right:0;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 16px #0003;z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown-content.show[_ngcontent-%COMP%]{display:block}.delete-link[_ngcontent-%COMP%]{margin-left:10px;color:red;text-decoration:none;cursor:pointer}.delete-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.col-5[_ngcontent-%COMP%]{flex:0 0 40%}.sticky-toc[_ngcontent-%COMP%]{position:sticky;top:20px;z-index:1000}.toc[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px}.toc-item[_ngcontent-%COMP%]{margin-bottom:15px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:600px;max-width:100%;position:relative}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.modal2[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal2.show2[_ngcontent-%COMP%]{display:flex}.modal-content2[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:600px;max-width:100%;position:relative}.modal-content2[_ngcontent-%COMP%]   .close2[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group2[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.breadcrumb[_ngcontent-%COMP%]{flex-wrap:wrap}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.card[_ngcontent-%COMP%]{margin-bottom:20px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:14px}.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px}.modal-content[_ngcontent-%COMP%]{width:95%;margin:10px auto}.nav-btn[_ngcontent-%COMP%], .nav-btn2[_ngcontent-%COMP%]{width:100%;font-size:14px}.sticky-toc[_ngcontent-%COMP%]{text-align:left;margin-top:20px}.toc-item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px}.gap-4[_ngcontent-%COMP%]{gap:2rem}}@media (max-width: 480px){.nav-btn[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.button-group[_ngcontent-%COMP%]{flex-direction:row}}",`html[_ngcontent-%COMP%] {
        scroll-behavior: smooth;
    }`]});let e=n;return e})();var co=()=>["/main/Subject/main"],mo=()=>["/main/Subject/main/subject"],uo=e=>({show2:e});function po(e,n){if(e&1){let r=w();a(0,"div",23)(1,"label",24),d(2,"Assessment:"),s(),a(3,"a",25),p("click",function(){let t=v(r).$implicit,o=u().$implicit,m=u(2);return C(m.navigateToQuestions(t.assessment_id,o.lesson_title))}),d(4),s(),a(5,"i",26),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.editAssessment(t.assessment_id))}),s(),a(6,"span",27),d(7,"|"),s(),a(8,"i",28),p("click",function(){let t=v(r).$implicit,o=u().$implicit,m=u(2);return C(m.navigateToProgress(t.assessment_id,o.lesson_title,t.title))}),s(),a(9,"p",29),d(10),s()()}if(e&2){let r=n.$implicit;l(4),y(" ",r.title," "),l(6),y("Due Date: ",r.formatted_due_date,"")}}function fo(e,n){if(e&1&&(a(0,"div",20)(1,"h4",21),d(2),s(),_(3,po,11,2,"div",22),s()),e&2){let r=n.$implicit;l(2),y("Lesson: ",r.lesson_title,""),l(),c("ngForOf",r.assessments)}}function go(e,n){if(e&1&&(a(0,"div")(1,"h3",18),d(2),s(),_(3,fo,4,2,"div",19),s()),e&2){let r=n.$implicit;l(2),y("Module: ",r.module_title,""),l(),c("ngForOf",r.lessons)}}var vt=(()=>{let n=class n{constructor(i,t,o){this.apiService=i,this.router=t,this.fb=o,this.classID=null,this.isEditModalOpen=!1,this.isSubmitting=!1,this.isModalOpen=!1,this.createAssessment=new me({title:new T(null),lesson_id:new T(null),instruction:new T(null),description:new T(null),due_date:new T(null)}),this.editAssessmentForm=this.fb.group({assessmentID:[""],title:["",K.required],instruction:["",K.required],description:["",K.required],due_date:["",K.required]})}ngOnInit(){let i=localStorage.getItem("classid"),t=localStorage.getItem("authToken");this.authtoken=t;let o=localStorage.getItem("moduleid"),m=localStorage.getItem("moduletitle");i?(this.classID=+i,this.moduleID=o,this.moduleTitle=m,this.loadAssessments(this.classID),console.log("Retrieved Subject ID from localStorage:",this.classID)):console.error("No classID found in localStorage.")}loadAssessments(i){this.apiService.getAssessmentsByClass(i).subscribe(t=>{this.assess=t,console.log(this.assess)})}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}editAssessment(i){this.apiService.getSingleAssessment(i).subscribe(t=>{this.editAssessmentForm.patchValue({assessmentID:t.assessmentid,title:t.title,instruction:t.instruction,description:t.description,due_date:t.due_date}),this.isEditModalOpen=!0})}closeEditModal(){this.isEditModalOpen=!1}saveEditedAssessment(){if(this.isSubmitting=!0,this.editAssessmentForm.valid){let i=this.editAssessmentForm.value;this.apiService.updateAssessment(i.assessmentID,i).subscribe(t=>{console.log("Assessment updated successfully",t),this.loadAssessments(this.classID),b.fire({title:"Updated Assessment",icon:"success"}),this.isEditModalOpen=!1,this.isSubmitting=!1},t=>{console.error("Error updating assessment:",t),b.fire({title:"Error Updating Assessment",icon:"error"}),this.isSubmitting=!1})}}navigateToQuestions(i,t){let o=localStorage.getItem("classid");localStorage.setItem("assid",i.toString()),localStorage.setItem("lessTitle",t),this.router.navigate(["/main/Subject/main/subject/modulesmain",o,"modules",this.moduleID,"assess","question",i])}navigateToProgress(i,t,o){let m=localStorage.getItem("classid");localStorage.setItem("assid",i.toString()),localStorage.setItem("lessTitle",t),localStorage.setItem("assessTitle",o),this.router.navigate(["/main/Subject/main/subject/modulesmain",m,"modules",this.moduleID,"assess","question",i,"progress"])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R),h(Te))},n.\u0275cmp=I({type:n,selectors:[["app-assessment"]],standalone:!0,features:[S],decls:37,vars:10,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[4,"ngFor","ngForOf"],[1,"modal2",3,"click","ngClass"],[1,"modal-content2",3,"click"],[1,"close2",3,"click"],[3,"ngSubmit","formGroup"],[1,"input-group"],[1,"label"],["formControlName","title","autocomplete","off","name","title","id","edit-title","type","text",1,"input"],["formControlName","instruction","autocomplete","off","name","instruction","id","edit-instruction",1,"textarea"],["formControlName","description","autocomplete","off","name","description","id","edit-description",1,"textarea"],["formControlName","due_date","autocomplete","off","name","dueDate","id","edit-dueDate","type","date",1,"input"],[1,"button-group"],[1,"submit-btn",3,"disabled"],[1,"module-title"],["class","lesson-container",4,"ngFor","ngForOf"],[1,"lesson-container"],[1,"lesson-title"],["class","assessment-container",4,"ngFor","ngForOf"],[1,"assessment-container"],[1,"assessment-label"],["routerLinkActive","active",1,"assessment-link",3,"click"],["aria-hidden","true",1,"fa","fa-pencil","fa-lg",2,"cursor","pointer",3,"click"],[1,"separator"],["aria-hidden","true",1,"fa","fa-check-square-o","fa-lg",2,"cursor","pointer",3,"click"],[1,"due-date"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7," Subjects "),s()(),a(8,"li",4),d(9,"All Assessments"),s()()(),_(10,go,4,2,"div",5),a(11,"div",6),p("click",function(){return o.closeEditModal()}),a(12,"div",7),p("click",function(f){return f.stopPropagation()}),a(13,"span",8),p("click",function(){return o.closeEditModal()}),d(14,"\xD7"),s(),a(15,"h2"),d(16,"Edit Assessment"),s(),a(17,"form",9),p("ngSubmit",function(){return o.saveEditedAssessment()}),a(18,"div",10)(19,"label",11),d(20,"Title"),s(),g(21,"input",12),s(),a(22,"div",10)(23,"label",11),d(24,"Instruction"),s(),g(25,"textarea",13),s(),a(26,"div",10)(27,"label",11),d(28,"Description"),s(),g(29,"textarea",14),s(),a(30,"div",10)(31,"label",11),d(32,"Due Date"),s(),g(33,"input",15),s(),a(34,"div",16)(35,"button",17),d(36,"Update"),s()()()()()),t&2&&(l(3),c("routerLink",O(6,co)),l(3),c("routerLink",O(7,mo)),l(4),c("ngForOf",o.assess),l(),c("ngClass",k(8,uo,o.isEditModalOpen)),l(6),c("formGroup",o.editAssessmentForm),l(18),c("disabled",o.isSubmitting))},dependencies:[P,ne,z,E,L,oe,G,se,V,B,re,ae,le,Y],styles:[".module-title[_ngcontent-%COMP%]{font-size:1.75em;font-weight:700;color:#000;margin-left:0;margin-top:30px}.lesson-container[_ngcontent-%COMP%]{margin-left:60px}.lesson-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333}.assessment-container[_ngcontent-%COMP%]{margin-left:70px}.assessment-label[_ngcontent-%COMP%]{font-weight:700;color:#555}.assessment-link[_ngcontent-%COMP%]{font-size:1.25em;text-decoration:none;padding-right:30px;color:#000}.assessment-link[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#00f}.due-date[_ngcontent-%COMP%]{font-size:.9em;color:red}.modal2[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal2.show2[_ngcontent-%COMP%]{display:flex}.modal-content2[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:600px;max-width:100%;position:relative}.modal-content2[_ngcontent-%COMP%]   .close2[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content2[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group2[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}.separator[_ngcontent-%COMP%]{margin:0 10px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.nav-btn[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.button-group[_ngcontent-%COMP%]{flex-direction:row}}"]});let e=n;return e})();var ho=()=>["/main/Subject/main/subject/modulesmain/modules/mat"],_o=()=>["/main/Subject/main/subject/modulesmain/modules/assess"],xo=()=>["/main/Subject/main/subject/modulesmain/modules/discuss"],Pi=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=I({type:n,selectors:[["app-lesson"]],standalone:!0,features:[S],decls:23,vars:6,consts:[[1,"header"],[2,"text-align","center"],[1,"button-group"],[3,"routerLink"],[1,"nav-btn"],[1,"modules"],[1,"module"],[1,"module-header"],[1,"lesson-topic"],[1,"lesson-description"],[1,"file-link"],["href","#"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"h1",1),d(2,"Nosebleeds, Swallowing Objects, Poisoning and Dog Bites"),s(),a(3,"div",2)(4,"a",3)(5,"button",4),d(6,"Learning Material"),s()(),a(7,"a",3)(8,"button",4),d(9,"Assessment"),s()(),a(10,"a",3)(11,"button",4),d(12,"Discussion"),s()()()(),a(13,"div",5)(14,"div",6)(15,"div",7)(16,"div",8),d(17,"Accidents happen at any time and at any place. How can you be sure that you are safe inside or outside your house? Study the pictures on the left. What do you see in them? If you happen to get injured and there is no doctor around, what should you do? First aid is an emergency care or treatment given to an ill or injured person before regular medical aid can be done. Be prepared to give first aid whenever an accident or an emergency may occur. Know what to do and what not to do to make your help effective. In other words, do only what is needed and avoid doing too much. Now, would you like to know how to give first aid? Turn to the next page to find out how to give first aid for nosebleeds, swallowing objects, poisoning and dog bites."),s(),a(18,"div",9),d(19,"Lesson 1"),s()(),a(20,"div",10)(21,"a",11),d(22,"Download Lesson 1 Materials"),s()()()()),t&2&&(l(4),c("routerLink",O(3,ho)),l(3),c("routerLink",O(4,_o)),l(3),c("routerLink",O(5,xo)))},dependencies:[E,L],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}.nav-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.lesson-topic[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:.5em;white-space:pre-line}.lesson-description[_ngcontent-%COMP%]{font-size:1em;color:#666}.file-link[_ngcontent-%COMP%]{margin-top:1em}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:400px;max-width:100%;position:relative}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group2[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.nav-btn[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.button-group[_ngcontent-%COMP%]{flex-direction:row}}"]});let e=n;return e})();var bo=()=>["/main/Home/main/home"],vo=()=>["/main/Subject/main/subject"],Co=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],Mo=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"],yo=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"mat"],wo=e=>({show:e});function Oo(e,n){e&1&&(a(0,"div",26),g(1,"div",27),s())}function Io(e,n){if(e&1&&(a(0,"span"),d(1),s()),e&2){let r=u().$implicit;l(),y("(",r.points," points)")}}function So(e,n){if(e&1){let r=w();a(0,"li")(1,"strong",43),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.editQuestion(t.question_id))}),a(2,"span",44),d(3),s(),d(4),_(5,Io,2,1,"span",22),s()()}if(e&2){let r=n.$implicit;l(3),y("",r.key_answer,": "),l(),y(" ",r.question," "),l(),c("ngIf",r.points!=1)}}function Po(e,n){if(e&1&&(a(0,"div")(1,"h6"),d(2,"Identification"),s(),a(3,"ol",41),_(4,So,6,3,"li",42),s()()),e&2){let r=u(2);l(4),c("ngForOf",r.identify)}}function Eo(e,n){if(e&1&&(a(0,"span"),d(1),s()),e&2){let r=u().$implicit;l(),y("(",r.points," points)")}}function ko(e,n){if(e&1){let r=w();a(0,"li")(1,"strong",43),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.editQuestion(t.question_id))}),a(2,"span",44),d(3),s(),d(4),_(5,Eo,2,1,"span",22),s()()}if(e&2){let r=n.$implicit;l(3),y("",r.key_answer,": "),l(),y(" ",r.question," "),l(),c("ngIf",r.points!=1)}}function Do(e,n){if(e&1&&(a(0,"div")(1,"h6"),d(2,"True-False"),s(),a(3,"ol",41),_(4,ko,6,3,"li",42),s()()),e&2){let r=u(2);l(4),c("ngForOf",r.tf)}}function To(e,n){if(e&1&&(a(0,"span"),d(1),s()),e&2){let r=u().$implicit;l(),y("(",r.points," points)")}}function Fo(e,n){if(e&1){let r=w();a(0,"li")(1,"strong",43),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.editQuestion(t.question_id))}),a(2,"span",44),d(3),s(),d(4),_(5,To,2,1,"span",22),s()()}if(e&2){let r=n.$implicit;l(3),y("",r.key_answer,": "),l(),y(" ",r.question," "),l(),c("ngIf",r.points!=1)}}function Ao(e,n){if(e&1&&(a(0,"div")(1,"h6"),d(2,"Multiple Choice"),s(),a(3,"ol",41),_(4,Fo,6,3,"li",42),s()()),e&2){let r=u(2);l(4),c("ngForOf",r.mc)}}function Lo(e,n){if(e&1&&(a(0,"span"),d(1),s()),e&2){let r=u().$implicit;l(),y("(",r.points," points)")}}function jo(e,n){if(e&1){let r=w();a(0,"li")(1,"strong",43),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.editQuestion(t.question_id))}),d(2),_(3,Lo,2,1,"span",22),s()()}if(e&2){let r=n.$implicit;l(2),y("",r.question," "),l(),c("ngIf",r.points!=1)}}function Ro(e,n){if(e&1&&(a(0,"div")(1,"h6"),d(2,"Essay"),s(),a(3,"ol",41),_(4,jo,4,2,"li",42),s()()),e&2){let r=u(2);l(4),c("ngForOf",r.essay)}}function No(e,n){if(e&1){let r=w();a(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"h2",32),d(5),s(),a(6,"div",33),p("click",function(){v(r);let t=u();return C(t.navigateToProgress(t.det.title))}),a(7,"a")(8,"span",34),g(9,"i",35),s()(),a(10,"span",36),d(11),s()()(),a(12,"p",37),d(13),s(),_(14,Po,5,1,"div",22)(15,Do,5,1,"div",22)(16,Ao,5,1,"div",22)(17,Ro,5,1,"div",22),a(18,"div",38)(19,"a",39),p("click",function(){v(r);let t=u();return C(t.openModal())}),g(20,"i",40),d(21," Add Question "),s()()()()()}if(e&2){let r=u();l(5),X("",r.det.title," | ",r.totalPoints," points"),l(6),X("Students Completed: ",r.completedCount,"/",r.totalStudents,""),l(2),y(" ",r.det.instruction," "),l(),c("ngIf",r.identify.length>0),l(),c("ngIf",r.tf.length>0),l(),c("ngIf",r.mc.length>0),l(),c("ngIf",r.essay.length>0)}}function zo(e,n){if(e&1){let r=w();a(0,"div",15)(1,"label",16),d(2),s(),a(3,"input",49),W("ngModelChange",function(t){let o=v(r).index,m=u(2);return Q(m.options[o].text,t)||(m.options[o].text=t),C(t)}),p("click",function(){let t=v(r).index,o=u(2);return C(o.setKeyAnswer(o.options[t].text))}),s()()}if(e&2){let r=n.index,i=u(2);l(2),y("Option ",i.optionLabels[r],""),l(),Ie("selected-option",i.keyAnswer===i.options[r].text),Ve("placeholder","Enter Option ",i.optionLabels[r],""),$("ngModel",i.options[r].text)}}function Vo(e,n){if(e&1){let r=w();a(0,"div")(1,"div",15)(2,"label",16),d(3,"Question"),s(),a(4,"textarea",45),W("ngModelChange",function(t){v(r);let o=u();return Q(o.questionText,t)||(o.questionText=t),C(t)}),s()(),a(5,"div",46),_(6,zo,4,6,"div",47),a(7,"button",48),p("click",function(){v(r);let t=u();return C(t.addOption())}),d(8,"Add Option"),s()()()}if(e&2){let r=u();l(4),$("ngModel",r.questionText),l(2),c("ngForOf",r.options)}}function Bo(e,n){if(e&1){let r=w();a(0,"div")(1,"div",15)(2,"label",16),d(3,"Question"),s(),a(4,"textarea",45),W("ngModelChange",function(t){v(r);let o=u();return Q(o.questionText,t)||(o.questionText=t),C(t)}),s()(),a(5,"div",50)(6,"label",16),d(7,"Key Answer"),s(),a(8,"label")(9,"input",51),W("ngModelChange",function(t){v(r);let o=u();return Q(o.keyAnswer,t)||(o.keyAnswer=t),C(t)}),s(),d(10," True"),s(),a(11,"label")(12,"input",52),W("ngModelChange",function(t){v(r);let o=u();return Q(o.keyAnswer,t)||(o.keyAnswer=t),C(t)}),s(),d(13," False"),s()()()}if(e&2){let r=u();l(4),$("ngModel",r.questionText),l(5),$("ngModel",r.keyAnswer),l(3),$("ngModel",r.keyAnswer)}}function qo(e,n){if(e&1){let r=w();a(0,"div")(1,"div",15)(2,"label",16),d(3,"Question"),s(),a(4,"textarea",45),W("ngModelChange",function(t){v(r);let o=u();return Q(o.questionText,t)||(o.questionText=t),C(t)}),s()()()}if(e&2){let r=u();l(4),$("ngModel",r.questionText)}}function Ho(e,n){if(e&1){let r=w();a(0,"div")(1,"div",15)(2,"label",16),d(3,"Question"),s(),a(4,"textarea",45),W("ngModelChange",function(t){v(r);let o=u();return Q(o.questionText,t)||(o.questionText=t),C(t)}),s()()()}if(e&2){let r=u();l(4),$("ngModel",r.questionText)}}function Uo(e,n){if(e&1){let r=w();a(0,"div",15)(1,"label",16),d(2,"Key Answer"),s(),a(3,"input",53),W("ngModelChange",function(t){v(r);let o=u();return Q(o.keyAnswer,t)||(o.keyAnswer=t),C(t)}),s()()}if(e&2){let r=u();l(3),$("ngModel",r.keyAnswer),c("readonly",r.questionType==="multiple-choice")}}function $o(e,n){if(e&1){let r=w();a(0,"div")(1,"button",54),p("click",function(){v(r);let t=u();return C(t.deleteQuestion())}),d(2,"Delete"),s()()}}var Ei=(()=>{let n=class n{constructor(i,t){this.apiService=i,this.router=t,this.isSubmitting=!1,this.isLoading=!1,this.ClassID=null,this.completedCount=0,this.totalStudents=0,this.isModalOpen=!1,this.isEditing=!1,this.selectedQuestion=null,this.questionText="",this.questionType="multiple-choice",this.options=[],this.optionLabels=["A","B","C","D","E","F","G"],this.keyAnswer="",this.points=1}ngOnInit(){this.isLoading=!0,this.options.push({text:""}),this.lessonTitle=localStorage.getItem("lessTitle");let i=localStorage.getItem("classid"),t=localStorage.getItem("assid"),o=localStorage.getItem("moduleid"),m=localStorage.getItem("moduletitle");i?(this.moduleID=o,this.ClassID=+i,this.assessmentID=t,this.moduleTitle=m,this.loadQuestions(),this.getTotalPoints(),this.loadCompletion(),console.log("Retrieved Subject ID from localStorage:",this.assessmentID)):console.error("No ClassID found in localStorage."),this.apiService.getAssessmentDetails(this.assessmentID).subscribe(f=>{this.det=f,console.log(this.det)})}getTotalPoints(){this.apiService.getTotalPoints(this.assessmentID).subscribe(i=>{this.totalPoints=i,console.log(i),this.isLoading=!1})}addOption(){this.options.length<this.optionLabels.length&&this.options.push({text:""})}setKeyAnswer(i){this.keyAnswer=i}loadQuestions(){this.apiService.getQuestion(this.assessmentID).subscribe(i=>{i.data&&Array.isArray(i.data)?(this.questions=i.data,this.filteredQuestionTypes(),console.log(this.questions),this.isLoading=!1):(console.error("Unexpected response structure:",i),this.isLoading=!1)})}filteredQuestionTypes(){this.identify=this.questions.filter(i=>i.type=="identification"),this.tf=this.questions.filter(i=>i.type=="true-false"),this.essay=this.questions.filter(i=>i.type=="Essay"),this.mc=this.questions.filter(i=>i.type=="multiple-choice")}loadCompletion(){this.apiService.getCompletionStats(this.assessmentID,this.ClassID).subscribe(i=>{this.completedCount=i.completed,this.totalStudents=i.total,this.isLoading=!1})}editQuestion(i){this.isEditing=!0,this.selectedQuestion=this.questions.find(t=>t.question_id===i),this.questionText=this.selectedQuestion.question,this.questionType=this.selectedQuestion.type,this.questionType==="essay"?this.keyAnswer="":this.keyAnswer=this.selectedQuestion.key_answer,this.points=this.selectedQuestion.points,this.questionType==="multiple-choice"?this.options=this.selectedQuestion.options.map(t=>({text:t})):this.options=[{text:""}],this.openModal()}getLetter(i){return String.fromCharCode(65+i)}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.resetForm()}onQuestionTypeChange(){this.keyAnswer=""}addQuestion(){let i={question_id:this.isEditing?this.selectedQuestion.question_id:null,assessment_id:this.assessmentID,question:this.questionText,type:this.questionType,key_answer:this.questionType!=="Essay"?this.keyAnswer:null,points:this.points,options:this.getOptions()};if(this.isEditing)this.isSubmitting=!0,this.apiService.editQuestion(i).subscribe(t=>{b.fire({title:"Updated Question",icon:"success"}),this.loadQuestions(),this.getTotalPoints(),this.closeModal(),this.isSubmitting=!1},t=>{console.error("Error updating question",t),b.fire({title:"Error Updating Question",icon:"error"}),this.isSubmitting=!1});else{if(this.questionType==="multiple-choice"&&this.getOptions().length<2){b.fire({title:"Please enter at least two valid options.",icon:"warning"}),this.isSubmitting=!1;return}this.isSubmitting=!0,this.apiService.createQuestion(i).subscribe(t=>{let o={question_id:t.question.question_id,question:t.question.question,type:t.question.type,key_answer:t.question.key_answer,points:t.question.points,options:t.question.options||[]};b.fire({title:"Added New Question",icon:"success"}),this.loadQuestions(),this.getTotalPoints(),this.closeModal(),this.isSubmitting=!1},t=>{console.error("Error adding question",t),b.fire({title:"Error adding question",icon:"error"}),this.isSubmitting=!1})}}deleteQuestion(){b.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(i=>{i.isConfirmed&&(this.qid=this.selectedQuestion.question_id,console.log("Question ID: ",this.qid),this.apiService.deleteQuestion(this.qid).subscribe(t=>{this.res=t.status,console.log("Message: ",this.res),this.loadQuestions(),this.getTotalPoints(),this.closeModal()}))})}resetForm(){this.questionText="",this.questionType="multiple-choice",this.options=[{text:""}],this.keyAnswer="",this.points=1,this.isEditing=!1,this.selectedQuestion=null}getOptions(){return this.questionType==="multiple-choice"?this.options.map(i=>i.text).filter(i=>i.trim()!==""):[]}navigateToProgress(i){localStorage.setItem("assessTitle",i);let t=localStorage.getItem("classid"),o=localStorage.getItem("assid");this.router.navigate(["/main/Subject/main/subject/modulesmain",t,"modules",this.moduleID,"assess","question",o,"progress"])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R))},n.\u0275cmp=I({type:n,selectors:[["app-question"]],standalone:!0,features:[S],decls:56,vars:32,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],[2,"text-align","center"],[1,"button-group"],["routerLinkActive","active",3,"routerLink"],[1,"nav-btn"],["class","loader-container",4,"ngIf"],["class","modules",4,"ngIf"],[1,"modal",3,"click","ngClass"],[1,"modal-content",3,"click"],[1,"close",3,"click"],[1,"input-group"],[1,"label"],[1,"input",3,"ngModelChange","change","ngModel"],["value","multiple-choice"],["value","true-false"],["value","identification"],["value","Essay"],[4,"ngIf"],["class","input-group",4,"ngIf"],["type","number","min","0","placeholder","Enter points",1,"input",3,"ngModelChange","ngModel"],[1,"submit-btn","me-2",3,"click","disabled"],[1,"loader-container"],[1,"spinner"],[1,"modules"],[1,"module"],[1,"p-6","bg-background","text-foreground"],[1,"header-container"],[1,"text-xl","font-bold","mb-4"],[1,"student-info",3,"click"],[1,"eye-icon"],[1,"fa","fa-list"],[1,"student-count"],[1,"mb-4"],[1,"add-question","mt-6"],[1,"text-blue-500","hover:text-blue-700","font-semibold","inline-flex","items-center",2,"cursor","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-plus","mr-2"],[1,"list-decimal","list-inside","space-y-4"],[4,"ngFor","ngForOf"],[1,"hoverable-question",2,"cursor","pointer",3,"click"],[2,"color","red"],["placeholder","Enter the question here",1,"textarea",3,"ngModelChange","ngModel"],[1,"choice-container"],["class","input-group",4,"ngFor","ngForOf"],[1,"btn-add-option",3,"click"],["type","text",1,"input",3,"ngModelChange","click","ngModel","placeholder"],[1,"input-wrapper"],["type","radio","name","trueFalse","value","true",3,"ngModelChange","ngModel"],["type","radio","name","trueFalse","value","false",3,"ngModelChange","ngModel"],["type","text","placeholder","Click an option to set as key answer",1,"input",3,"ngModelChange","ngModel","readonly"],[1,"submit-btn","me-2",3,"click"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7,"Subjects"),s()(),a(8,"li",2)(9,"a",3),d(10," Modules "),s()(),a(11,"li",2)(12,"a",3),d(13," Lessons "),s()(),a(14,"li",4),d(15,"Assessment"),s()()(),a(16,"div",5)(17,"h1",6),d(18),s(),a(19,"div",7)(20,"a",8)(21,"button",9),d(22,"Learning Material"),s()()()(),_(23,Oo,2,0,"div",10)(24,No,22,9,"div",11),a(25,"div",12),p("click",function(){return o.closeModal()}),a(26,"div",13),p("click",function(f){return f.stopPropagation()}),a(27,"span",14),p("click",function(){return o.closeModal()}),d(28,"\xD7"),s(),a(29,"h2"),d(30),s(),a(31,"div",15)(32,"label",16),d(33,"Type of Question"),s(),a(34,"select",17),W("ngModelChange",function(f){return Q(o.questionType,f)||(o.questionType=f),f}),p("change",function(){return o.onQuestionTypeChange()}),a(35,"option",18),d(36,"Multiple Choice"),s(),a(37,"option",19),d(38,"True or False"),s(),a(39,"option",20),d(40,"Identification"),s(),a(41,"option",21),d(42,"Essay"),s()()(),_(43,Vo,9,2,"div",22)(44,Bo,14,3,"div",22)(45,qo,5,1,"div",22)(46,Ho,5,1,"div",22)(47,Uo,4,2,"div",23),a(48,"div",15)(49,"label",16),d(50,"Points"),s(),a(51,"input",24),W("ngModelChange",function(f){return Q(o.points,f)||(o.points=f),f}),s()(),a(52,"div",7)(53,"button",25),p("click",function(){return o.addQuestion()}),d(54),s(),_(55,$o,3,0,"div",22),s()()()),t&2&&(l(3),c("routerLink",O(20,bo)),l(3),c("routerLink",O(21,vo)),l(3),c("routerLink",k(22,Co,o.ClassID)),l(3),c("routerLink",A(24,Mo,o.ClassID,o.moduleID)),l(6),M(o.lessonTitle),l(2),c("routerLink",A(27,yo,o.ClassID,o.moduleID)),l(3),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngClass",k(30,wo,o.isModalOpen)),l(5),M(o.isEditing?"Edit Question":"Add Question"),l(4),$("ngModel",o.questionType),l(9),c("ngIf",o.questionType==="multiple-choice"),l(),c("ngIf",o.questionType==="true-false"),l(),c("ngIf",o.questionType==="identification"),l(),c("ngIf",o.questionType==="Essay"),l(),c("ngIf",o.questionType!=="Essay"&&o.questionType!=="true-false"),l(4),$("ngModel",o.points),l(2),c("disabled",o.isSubmitting),l(),M(o.isEditing?"Update":"Add"),l(),c("ngIf",o.isEditing))},dependencies:[E,L,oe,P,ne,z,j,Y,Kt,Zt,V,Wt,Gt,Yt,B,Xt,De],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.student-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.student-count[_ngcontent-%COMP%]{font-size:1rem;color:#333}.eye-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}a.active[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .nav-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px;display:flex;justify-content:space-between;align-items:center}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hoverable-question[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s ease,background-color .3s ease}.hoverable-question[_ngcontent-%COMP%]:hover{color:#007bff;background-color:#f1f1f1;padding:5px;border-radius:4px}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:90%;max-width:600px;position:relative;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{max-width:100%;background-color:#f5f5f5;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s,color .3s,background .2s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:hover, .textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#05060f}.textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.choice-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 45%}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;padding:15px}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 100%}.textarea[_ngcontent-%COMP%]{height:120px}}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:100%;padding:10px}.textarea[_ngcontent-%COMP%]{height:150px}}"]});let e=n;return e})();var Qo=()=>["/main/Home/main/home"],Wo=()=>["/main/Subject/main/subject"],Yo=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],Go=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"],Ko=(e,n,r)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"assess","question",r],Zo=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"mat"];function Xo(e,n){e&1&&(a(0,"div",13),g(1,"div",14),s())}function Jo(e,n){e&1&&(a(0,"button",26),g(1,"i",29),s())}function er(e,n){if(e&1){let r=w();Se(0),a(1,"td"),d(2),a(3,"a",25),p("click",function(){v(r);let t=u().$implicit,o=u(2);return C(o.navigateToChecking(t.lrn,t.firstname,t.lastname))}),a(4,"button",26),g(5,"i",27),s()(),a(6,"a",25),p("click",function(){v(r);let t=u().$implicit,o=u(2);return C(o.navigateToViewFile(t.lrn,t.firstname,t.lastname))}),_(7,Jo,2,0,"button",28),s()(),Pe()}if(e&2){let r=u().$implicit;l(2),y(" ",r.score," "),l(5),c("ngIf",r.file!=null)}}function tr(e,n){e&1&&(a(0,"button",26),g(1,"i",29),s())}function ir(e,n){if(e&1){let r=w();a(0,"td"),d(1,"No Grade Yet "),a(2,"a",25),p("click",function(){v(r);let t=u().$implicit,o=u(2);return C(o.navigateToChecking(t.lrn,t.firstname,t.lastname))}),a(3,"button",26),g(4,"i",27),s()(),a(5,"a",25),p("click",function(){v(r);let t=u().$implicit,o=u(2);return C(o.navigateToViewFile(t.lrn,t.firstname,t.lastname))}),_(6,tr,2,0,"button",28),s()()}if(e&2){let r=u().$implicit;l(6),c("ngIf",r.file!=null)}}function nr(e,n){if(e&1&&(a(0,"tr")(1,"td"),d(2),s(),a(3,"td"),g(4,"input",23),s(),_(5,er,8,2,"ng-container",24)(6,ir,7,1,"ng-template",null,0,Re),s()),e&2){let r=n.$implicit,i=_e(7);l(2),X("",r.firstname," ",r.lastname,""),l(2),c("checked",r.completed),l(),c("ngIf",r.score!==null)("ngIfElse",i)}}function or(e,n){if(e&1){let r=w();a(0,"div",15)(1,"div",16)(2,"div",17)(3,"h2"),d(4),s(),a(5,"h3",18),d(6),a(7,"strong"),d(8),s()(),a(9,"table",17)(10,"thead")(11,"tr")(12,"th"),d(13,"Student Name"),s(),a(14,"th"),d(15,"Completed"),s(),a(16,"th")(17,"div",19),d(18," Score "),a(19,"button",20),p("click",function(){v(r);let t=u();return C(t.autoCheck())}),g(20,"i",21),d(21,"Auto Check"),s()()()()(),a(22,"tbody"),_(23,nr,8,5,"tr",22),s()()()()()}if(e&2){let r=u();l(4),M(r.lessonTitle),l(2),y("",r.assessTitle," "),l(2),y("Total: ",r.totalPoints,"pts"),l(11),c("disabled",r.isSubmitting),l(4),c("ngForOf",r.students)}}var ki=(()=>{let n=class n{constructor(i,t){this.apiserv=i,this.router=t,this.isLoading=!1,this.isSubmitting=!1,this.isModalOpen=!1,this.questionText="",this.questionType="multiple-choice",this.optionA="",this.optionB="",this.optionC="",this.optionD="",this.keyAnswer="",this.subjectID=null}ngOnInit(){this.isLoading=!0,this.assessTitle=localStorage.getItem("assessTitle");let i=localStorage.getItem("classid"),t=localStorage.getItem("assid"),o=localStorage.getItem("moduleid");this.lessonTitle=localStorage.getItem("lessTitle");let m=localStorage.getItem("moduletitle");i?(this.moduleID=o,this.subjectID=+i,this.assessmentID=t,this.moduleTitle=m,this.loadStudents(),console.log("Retrieved Assessment ID from localStorage:",this.assessmentID)):console.error("No subjectID found in localStorage.")}loadStudents(){this.apiserv.getStudents(this.subjectID,this.assessmentID).subscribe(i=>{this.students=i.status,this.totalPoints=i.total_points,console.log("Students: ",i.status),this.isLoading=!1},i=>{console.error("Error fetching students",i),this.isLoading=!1})}autoCheck(){this.isSubmitting=!0,this.apiserv.autoCheck(this.subjectID,this.assessmentID).subscribe(i=>{b.fire({title:"Auto Check Completed",icon:"success"}),this.students=i.score,this.students=i.status,this.isSubmitting=!1},i=>{console.error("Error during auto-check:",i),b.fire({title:"Something went wrong!",icon:"error"}),this.isSubmitting=!1})}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}navigateToChecking(i,t,o){let m=localStorage.getItem("classid"),f=localStorage.getItem("assid");localStorage.setItem("lrn",i),localStorage.setItem("fname",t),localStorage.setItem("lname",o),this.router.navigate(["/main/Subject/main/subject/modulesmain",m,"modules",this.moduleID,"assess","question",f,"checking"])}navigateToViewFile(i,t,o){let m=localStorage.getItem("classid"),f=localStorage.getItem("assid");localStorage.setItem("lrn",i),localStorage.setItem("fname",t),localStorage.setItem("lname",o),this.router.navigate(["/main/Subject/main/subject/modulesmain",m,"modules",this.moduleID,"assess","question",f,"file"])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R))},n.\u0275cmp=I({type:n,selectors:[["app-progress"]],standalone:!0,features:[S],decls:28,vars:22,consts:[["elseTemplate",""],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],[2,"text-align","center"],[1,"button-group"],["routerLinkActive","active",3,"routerLink"],[1,"nav-btn"],["class","loader-container",4,"ngIf"],["class","modules",4,"ngIf"],[1,"loader-container"],[1,"spinner"],[1,"modules"],[1,"module"],[1,"students-table"],[1,"text-lg","font-bold","mb-4"],[1,"score-header"],[1,"nav-btn","auto-check-btn","submitting",3,"click","disabled"],["aria-hidden","true",1,"fa","fa-check"],[4,"ngFor","ngForOf"],["type","checkbox","disabled","",3,"checked"],[4,"ngIf","ngIfElse"],[3,"click"],[1,"nav-btn","auto-check-btn"],["aria-hidden","true",1,"fa","fa-eye"],["class","nav-btn auto-check-btn",4,"ngIf"],["aria-hidden","true",1,"fa","fa-file-image-o"]],template:function(t,o){t&1&&(a(0,"nav",1)(1,"ol",2)(2,"li",3)(3,"a",4),d(4,"Home"),s()(),a(5,"li",3)(6,"a",4),d(7,"Subjects"),s()(),a(8,"li",3)(9,"a",4),d(10," Modules "),s()(),a(11,"li",3)(12,"a",4),d(13," Lessons "),s()(),a(14,"li",5)(15,"a",4),d(16," Assessment "),s()(),a(17,"li",5),d(18,"Progress"),s()()(),a(19,"div",6)(20,"h1",7),d(21,"Students Assessment Progress"),s(),a(22,"div",8)(23,"a",9)(24,"button",10),d(25,"Learning Material"),s()()()(),_(26,Xo,2,0,"div",11)(27,or,24,5,"div",12)),t&2&&(l(3),c("routerLink",O(8,Qo)),l(3),c("routerLink",O(9,Wo)),l(3),c("routerLink",k(10,Yo,o.subjectID)),l(3),c("routerLink",A(12,Go,o.subjectID,o.moduleID)),l(3),c("routerLink",ye(15,Ko,o.subjectID,o.moduleID,o.assessmentID)),l(8),c("routerLink",A(19,Zo,o.subjectID,o.moduleID)),l(3),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading))},dependencies:[E,L,oe,P,z,j,Y],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.student-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.student-count[_ngcontent-%COMP%]{font-size:1rem;color:#333}.eye-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}.nav-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px;display:flex;justify-content:space-between;align-items:center}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.students-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.students-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f8f8f8;position:sticky;top:0;z-index:1}.students-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .students-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ddd}.students-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;max-height:300px;overflow-y:auto}.students-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}.students-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-wrap:break-word}.auto-check-btn[_ngcontent-%COMP%]{margin-left:10px;padding:5px 10px;font-size:.9rem;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.auto-check-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.check-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:90%;max-width:600px;position:relative;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{max-width:100%;background-color:#f5f5f5;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s,color .3s,background .2s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:hover, .textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#05060f}.textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.choice-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 45%}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}a.active[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%]{background-color:#0056b3}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.submitting[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;padding:15px}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 100%}.textarea[_ngcontent-%COMP%]{height:120px}}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:100%;padding:10px}.textarea[_ngcontent-%COMP%]{height:150px}}"]});let e=n;return e})();var rr=()=>["/main/Home/main/home"],sr=()=>["/main/Subject/main/subject"],ar=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],lr=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"],dr=(e,n,r)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"assess","question",r],Di=(e,n,r)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"assess","question",r,"progress"],cr=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"mat"];function mr(e,n){e&1&&(a(0,"div",12),g(1,"div",13),s())}function ur(e,n){if(e&1&&(a(0,"span"),d(1),s()),e&2){let r=u().$implicit;l(),X(" ",r.score||0,"/",r.points," ")}}function pr(e,n){if(e&1){let r=w();a(0,"span")(1,"input",33),W("ngModelChange",function(t){v(r);let o=u().$implicit;return Q(o.score,t)||(o.score=t),C(t)}),p("blur",function(){v(r);let t=u().$implicit,o=u(3);return C(o.manualCheck(t.question_id,t.score))}),s(),d(2),s()}if(e&2){let r=u().$implicit;l(),$("ngModel",r.score),l(),y(" / ",r.points," ")}}function fr(e,n){if(e&1&&(a(0,"span",34)(1,"u"),d(2),s()()),e&2){let r=u().$implicit;l(2),M(r.student_answer)}}function gr(e,n){if(e&1&&g(0,"textarea",35),e&2){let r=u().$implicit;c("value",r.student_answer)}}function hr(e,n){if(e&1&&(a(0,"li",24)(1,"div",25)(2,"div",26)(3,"strong"),d(4),s()(),a(5,"div",27),_(6,ur,2,2,"span",28)(7,pr,3,2,"span",28),s()(),a(8,"div",29),_(9,fr,3,1,"span",30)(10,gr,1,1,"textarea",31),s(),a(11,"div",32)(12,"b"),d(13,"Key Answer:"),s(),a(14,"u"),d(15),s()()()),e&2){let r=n.$implicit,i=n.index;l(4),X("",i+1,". ",r.question,""),l(2),c("ngIf",r.type==="true-false"||r.type==="multiple-choice"),l(),c("ngIf",r.type!=="true-false"&&r.type!=="multiple-choice"),l(2),c("ngIf",r.type!=="Essay"),l(),c("ngIf",r.type==="Essay"),l(5),M(r.key_answer||"Essay Type")}}function _r(e,n){if(e&1&&(a(0,"div",21)(1,"ul",22),_(2,hr,16,7,"li",23),s()()),e&2){let r=u(2);l(2),c("ngForOf",r.studentAnswers)}}function xr(e,n){if(e&1&&(a(0,"div",14)(1,"div",15)(2,"a",3)(3,"h2",16),d(4),s()(),a(5,"div",17)(6,"div",18)(7,"h2",16),d(8),s(),a(9,"h2",16),d(10),s()(),a(11,"p",19),d(12),s(),_(13,_r,3,1,"div",20),s()()()),e&2){let r=u();l(2),c("routerLink",ye(7,Di,r.subjectID,r.moduleID,r.assessmentID)),l(2),M(r.lessonTitle),l(4),M(r.det.title),l(2),X("Total Score: ",r.studScore.score,"/",r.maxScore,""),l(2),y(" ",r.det.instruction," "),l(),c("ngIf",r.studentAnswers.length)}}var Ti=(()=>{let n=class n{constructor(i){this.apiserv=i,this.isLoading=!1,this.subjectID=null,this.totalScore=0,this.maxScore=0,this.isTeacher=!0}ngOnInit(){this.isLoading=!0,this.assessTitle=localStorage.getItem("assessTitle");let i=localStorage.getItem("fname"),t=localStorage.getItem("lname");this.fname=i,this.lname=t,this.fullname=this.fname+" "+this.lname,this.lessonTitle=localStorage.getItem("lessTitle");let o=localStorage.getItem("classid"),m=localStorage.getItem("assid"),f=localStorage.getItem("moduleid"),N=localStorage.getItem("lrn");o?(this.moduleID=f,this.subjectID=+o,this.assessmentID=m,this.learnerID=N,this.loadStudentAnswers(this.assessmentID,this.learnerID),console.log("Retrieved Assessment ID from localStorage:",this.assessmentID)):console.error("No subjectID found in localStorage."),this.apiserv.getAssessmentDetails(this.assessmentID).subscribe(te=>{this.det=te,console.log(this.det)})}loadStudentAnswers(i,t){this.apiserv.getStudentAnswers(i,t).subscribe(o=>{o.status==="success"?(this.studentAnswers=o.data,this.totalScore=o.total_score,this.studFile=o.studentFile,this.studScore=o.studentScore,this.studentScores=o.scores,this.maxScore=o.max_score,console.log("student answers: ",this.studentAnswers),console.log("student file: ",this.studFile),console.log("student Total Score: ",this.studScore),this.isLoading=!1):(console.error("Failed to load student answers"),this.isLoading=!1)})}getLetter(i){return String.fromCharCode(65+i)}manualCheck(i,t){let o={assessment_id:this.assessmentID,learner_id:this.learnerID,question_id:i,score:t};this.apiserv.submitScore(o).subscribe(m=>{m.status==="success"?(b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:N=>{N.onmouseenter=b.stopTimer,N.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Updated Score"}),this.totalScore=m.total_score,this.loadStudentAnswers(this.assessmentID,this.learnerID)):console.error("Failed to add score")},m=>{console.error("Error adding score",m)})}};n.\u0275fac=function(t){return new(t||n)(h(D))},n.\u0275cmp=I({type:n,selectors:[["app-check"]],standalone:!0,features:[S],decls:31,vars:29,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],[2,"text-align","center"],[1,"button-group"],["routerLinkActive","active",3,"routerLink"],[1,"nav-btn"],["class","loader-container",4,"ngIf"],["class","modules",4,"ngIf"],[1,"loader-container"],[1,"spinner"],[1,"modules"],[1,"module"],[1,"text-xl","font-bold","mb-4"],[1,"p-6","bg-background","text-foreground"],[1,"header-container"],[1,"mb-4"],["class","answers-container",4,"ngIf"],[1,"answers-container"],[1,"answer-list"],["class","answer-item",4,"ngFor","ngForOf"],[1,"answer-item"],[1,"question-score"],[1,"question"],[1,"score"],[4,"ngIf"],[1,"student-answer"],["style","color: blue;",4,"ngIf"],["style","width: 100%; height: 60px;","disabled","",3,"value",4,"ngIf"],[1,"key-answer"],["type","text",2,"width","40px","text-align","center",3,"ngModelChange","blur","ngModel"],[2,"color","blue"],["disabled","",2,"width","100%","height","60px",3,"value"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7,"Subjects"),s()(),a(8,"li",2)(9,"a",3),d(10," Modules "),s()(),a(11,"li",2)(12,"a",3),d(13," Lessons "),s()(),a(14,"li",2)(15,"a",3),d(16," Assessment "),s()(),a(17,"li",2)(18,"a",3),d(19," Progress "),s()(),a(20,"li",4),d(21,"Checking"),s()()(),a(22,"div",5)(23,"h1",6),d(24),s(),a(25,"div",7)(26,"a",8)(27,"button",9),d(28,"Learning Material"),s()()()(),_(29,mr,2,0,"div",10)(30,xr,14,11,"div",11)),t&2&&(l(3),c("routerLink",O(11,rr)),l(3),c("routerLink",O(12,sr)),l(3),c("routerLink",k(13,ar,o.subjectID)),l(3),c("routerLink",A(15,lr,o.subjectID,o.moduleID)),l(3),c("routerLink",ye(18,dr,o.subjectID,o.moduleID,o.assessmentID)),l(3),c("routerLink",ye(22,Di,o.subjectID,o.moduleID,o.assessmentID)),l(6),X("",o.fname," ",o.lname,"'s Assessment"),l(2),c("routerLink",A(26,cr,o.subjectID,o.moduleID)),l(3),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading))},dependencies:[E,L,oe,P,z,j,Y,V,B,De],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.answers-container[_ngcontent-%COMP%]{margin:0;padding:0}.answer-list[_ngcontent-%COMP%]{list-style:none;padding:0}.answer-item[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;margin-bottom:10px;display:grid;grid-template-rows:auto auto auto;gap:10px}.question-score[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.student-answer[_ngcontent-%COMP%]{margin-top:5px}.key-answer[_ngcontent-%COMP%]{margin-top:5px;font-style:italic;color:#555}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.student-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.student-count[_ngcontent-%COMP%]{font-size:1rem;color:#333}.eye-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}.nav-btn2[_ngcontent-%COMP%]{padding:5px 10px;margin-top:5px;margin-left:5px;background-color:#007bff;color:#fff;border:none;border-radius:10px;cursor:pointer;flex:1 1 auto;max-width:200px}a.active[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .nav-btn[_ngcontent-%COMP%]:hover, .nav-btn2[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px;display:flex;justify-content:space-between;align-items:center}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hoverable-question[_ngcontent-%COMP%]{cursor:pointer}.hoverable-question[_ngcontent-%COMP%]:hover{color:#007bff;background-color:#f1f1f1;border-radius:4px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:90%;max-width:600px;position:relative;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{max-width:100%;background-color:#f5f5f5;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s,color .3s,background .2s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:hover, .textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#05060f}.textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.choice-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 45%}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;padding:15px}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 100%}.textarea[_ngcontent-%COMP%]{height:120px}}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:100%;padding:10px}.textarea[_ngcontent-%COMP%]{height:150px}}"]});let e=n;return e})();var br=()=>["/main/Home/main/home"],vr=()=>["/main/Subject/main/subject"],Cr=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],Mr=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"],yr=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"mat"],wr=e=>({show:e});function Or(e,n){e&1&&(a(0,"div",23),g(1,"div",24),s())}function Ir(e,n){if(e&1){let r=w();a(0,"div",29),d(1," -> "),a(2,"a",30),p("click",function(){let t=v(r).$implicit,o=u(2);return C(o.navigateToDiscussions(t.discussionid,t.discussion_topic,t.created,o.lessonTitle))}),d(3),s()()}if(e&2){let r=n.$implicit;l(3),y(" ",r.discussion_topic," ")}}function Sr(e,n){if(e&1&&(a(0,"div",25)(1,"div",26)(2,"div",27)(3,"h5"),d(4),s()(),_(5,Ir,4,1,"div",28),s()()),e&2){let r=u();l(4),M(r.lessonTitle),l(),c("ngForOf",r.discuss)}}var Fi=(()=>{let n=class n{constructor(i,t,o){this.apiService=i,this.router=t,this.route=o,this.isLoading=!1,this.isSubmitting=!1,this.subjectID=null,this.isModalOpen=!1,this.createDiscussion=new me({lesson_id:new T(localStorage.getItem("idLesson")),discussion_topic:new T(null)})}ngOnInit(){this.isLoading=!0;let i=localStorage.getItem("classid"),t=localStorage.getItem("moduleid"),o=localStorage.getItem("moduletitle"),m=localStorage.getItem("idLesson"),f=localStorage.getItem("lessonTitle");i?(this.subjectID=+i,this.moduleID=t,this.moduleTitle=o,this.lessonTitle=f,this.lessonid=m,this.apiService.getLessons(this.moduleID).subscribe(N=>{this.lessons=N.lessons,console.log("Lesson: ",this.lessons),this.loadDiscussion(localStorage.getItem),m&&this.loadDiscussion(m)}),console.log("Retrieved Subject ID from localStorage:",this.subjectID)):console.error("No subjectID found in localStorage.")}loadDiscussion(i){this.apiService.getDiscussion(i).subscribe(t=>{this.discuss=t,this.lessons.forEach(o=>{o.filteredDiscussions=this.discuss.filter(m=>m.lesson_id===o.lesson_id)}),this.isLoading=!1,console.log("Discussions:",this.discuss)},t=>{console.error("Error fetching discussions:",t)})}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}save(){this.isSubmitting=!0,this.apiService.createDiscussion(this.createDiscussion.value).subscribe(i=>{console.log("Discussion Created: ",i),b.fire({title:"Added New Discussion",icon:"success"}),this.closeModal(),this.loadDiscussion(this.lessonid),this.createDiscussion.get("discussion_topic")?.reset(),this.isSubmitting=!1})}navigateToDiscussions(i,t,o,m){let f=localStorage.getItem("classid");localStorage.setItem("discussionid",i),localStorage.setItem("disctopic",t),localStorage.setItem("date",o),localStorage.setItem("lessTitle",m),this.router.navigate(["/main/Subject/main/subject/modulesmain",f,"modules",this.moduleID,"discuss",i,"discussion"])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R),h(be))},n.\u0275cmp=I({type:n,selectors:[["app-discuss"]],standalone:!0,features:[S],decls:41,vars:23,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],[2,"text-align","center"],[1,"button-group"],["routerLinkActive","active",3,"routerLink"],[1,"nav-btn"],[1,"notification-icon",3,"click"],["aria-hidden","true",1,"fa","fa-plus","fa-2x"],["class","loader-container",4,"ngIf"],["class","modules",4,"ngIf"],[1,"modal",3,"click","ngClass"],[1,"modal-content",3,"click"],[1,"close",3,"click"],[3,"ngSubmit","formGroup"],[1,"input-group"],[1,"label"],["formControlName","discussion_topic","autocomplete","off","name","topicTitle","id","topicTitle","rows","8",1,"input2"],[1,"button-group2"],[1,"submit-btn",3,"disabled"],[1,"loader-container"],[1,"spinner"],[1,"modules"],[1,"module"],[1,"module-header"],["class","file-link",4,"ngFor","ngForOf"],[1,"file-link"],[3,"click"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7,"Subjects"),s()(),a(8,"li",2)(9,"a",3),d(10," Modules "),s()(),a(11,"li",2)(12,"a",3),d(13," Lessons "),s()(),a(14,"li",4),d(15,"Discussion"),s()()(),a(16,"div",5)(17,"h1",6),d(18),s(),a(19,"div",7)(20,"a",8)(21,"button",9),d(22,"Learning Material"),s()()(),a(23,"div",10),p("click",function(){return o.openModal()}),g(24,"i",11),s()(),_(25,Or,2,0,"div",12)(26,Sr,6,2,"div",13),a(27,"div",14),p("click",function(){return o.closeModal()}),a(28,"div",15),p("click",function(f){return f.stopPropagation()}),a(29,"span",16),p("click",function(){return o.closeModal()}),d(30,"\xD7"),s(),a(31,"form",17),p("ngSubmit",function(){return o.save()}),a(32,"h2"),d(33,"Add Discussion"),s(),a(34,"div",18)(35,"label",19),d(36,"Discussion Question"),s(),g(37,"textarea",20),s(),a(38,"div",21)(39,"button",22),d(40,"ADD"),s()()()()()),t&2&&(l(3),c("routerLink",O(11,br)),l(3),c("routerLink",O(12,vr)),l(3),c("routerLink",k(13,Cr,o.subjectID)),l(3),c("routerLink",A(15,Mr,o.subjectID,o.moduleID)),l(6),M(o.moduleTitle),l(2),c("routerLink",A(18,yr,o.subjectID,o.moduleID)),l(5),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngClass",k(21,wr,o.isModalOpen)),l(4),c("formGroup",o.createDiscussion),l(8),c("disabled",o.isSubmitting))},dependencies:[E,L,oe,P,ne,z,j,G,se,V,B,re,ae,le],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}a.active[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .nav-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.content-loader-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;position:absolute;background-color:#fffc;z-index:999}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:600px;max-width:100%;position:relative}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input2[_ngcontent-%COMP%]{max-width:100%;height:300px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group2[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.nav-btn[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.button-group[_ngcontent-%COMP%]{flex-direction:row}}"]});let e=n;return e})();var Pr=()=>["/main/Home/main/home"],Er=()=>["/main/Subject/main/subject"],kr=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],Dr=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"],Tr=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"discuss"],Fr=(e,n)=>({"student-answer":e,"teacher-answer":n});function Ar(e,n){e&1&&(a(0,"div",15),g(1,"div",16),s())}function Lr(e,n){if(e&1&&(a(0,"div",19)(1,"div",20),d(2),s(),a(3,"div",21),d(4),ce(5,"date"),s(),a(6,"div",22),g(7,"p",23),s()()),e&2){let r=n.$implicit,i=u(2);c("ngClass",A(7,Fr,r.role==="student",r.role==="teacher")),l(2),M(r.user),l(2),M(Ee(5,4,r.date,"medium")),l(3),c("innerHTML",i.transformText(r.answer),et)}}function jr(e,n){if(e&1&&(a(0,"div",17),_(1,Lr,8,10,"div",18),s()),e&2){let r=u();l(),c("ngForOf",r.discussions)}}function Rr(e,n){if(e&1){let r=w();a(0,"div",24)(1,"form",25),p("ngSubmit",function(){v(r);let t=u();return C(t.submitAnswer())}),g(2,"textarea",26),a(3,"button",27),d(4,"Reply"),s()()()}if(e&2){let r=u();l(),c("formGroup",r.discussionForm),l(2),c("disabled",r.isSubmitting)}}var Ai=(()=>{let n=class n{constructor(i,t){this.fb=i,this.apiService=t,this.isLoading=!1,this.isSubmitting=!1,this.subjectID=null,this.discussions=[],this.discussionForm=this.fb.group({answer:[""]})}ngOnInit(){let i=localStorage.getItem("classid"),t=localStorage.getItem("moduleid"),o=localStorage.getItem("moduletitle"),m=localStorage.getItem("discussionid");this.lessonTitle=localStorage.getItem("lessTitle"),i&&(this.subjectID=+i,this.moduleID=t,this.moduleTitle=o,this.discussuinID=m,this.discTopic=localStorage.getItem("disctopic"),this.date=localStorage.getItem("date"),this.spinner(),this.intervalId=setInterval(()=>{this.loadDiscussions(this.discussuinID)},2e4))}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}spinner(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},2e4)}transformText(i){return i.split(/\n\s*\n/).map(o=>o.replace(/\.\s*/g,".<br>")).map(o=>`<p>${o}</p>`).join("")}loadDiscussions(i){console.log(i),this.apiService.viewDiscussionReplies(i).subscribe(t=>{let o=[],m=null;t.forEach(f=>{f.lrn?(m&&(o.push(m),m=null),m={user:`${f.student_firstname} ${f.student_lastname}`,date:f.created_at,answer:f.reply,role:"student"}):(m&&(o.push(m),m=null),o.push({user:`${f.teacher_firstname} ${f.teacher_lastname}`,date:f.created_at,answer:f.reply,role:"teacher"}))}),console.log(t),m&&o.push(m),this.discussions=o})}submitAnswer(){this.isSubmitting=!0;let i=this.discussionForm.value.answer,t=localStorage.getItem("id"),o={discussionid:this.discussuinID,lrn:null,adminID:t,reply:i};this.apiService.sendDiscussionReplies(o).subscribe(m=>{this.loadDiscussions(this.discussuinID),this.discussionForm.reset(),this.isSubmitting=!1})}};n.\u0275fac=function(t){return new(t||n)(h(Te),h(D))},n.\u0275cmp=I({type:n,selectors:[["app-discussion"]],standalone:!0,features:[S],decls:34,vars:22,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"modules"],[2,"text-align","center"],[1,"discussion-container"],[1,"question-section"],[1,"question-header"],[1,"question-date"],[1,"question-text"],["class","loader-container",4,"ngIf"],["class","answer-list",4,"ngIf"],["class","answer-form",4,"ngIf"],[1,"loader-container"],[1,"spinner"],[1,"answer-list"],["class","answer",3,"ngClass",4,"ngFor","ngForOf"],[1,"answer",3,"ngClass"],[1,"answer-user"],[1,"answer-date"],[1,"answer-text"],[3,"innerHTML"],[1,"answer-form"],[3,"ngSubmit","formGroup"],["formControlName","answer","placeholder","Insert text here..."],["type","submit",1,"btn-primary",3,"disabled"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7,"Subjects"),s()(),a(8,"li",2)(9,"a",3),d(10," Modules "),s()(),a(11,"li",2)(12,"a",3),d(13," Lessons "),s()(),a(14,"li",2)(15,"a",3),d(16," Discussion "),s()(),a(17,"li",4),d(18,"Forum"),s()()(),a(19,"div",5)(20,"h1",6),d(21),s(),a(22,"div",7)(23,"h2"),d(24),s(),a(25,"div",8)(26,"div",9)(27,"div",10),d(28),s(),a(29,"div",11),d(30),s()(),_(31,Ar,2,0,"div",12)(32,jr,2,1,"div",13),s(),_(33,Rr,5,2,"div",14),s()()),t&2&&(l(3),c("routerLink",O(12,Pr)),l(3),c("routerLink",O(13,Er)),l(3),c("routerLink",k(14,kr,o.subjectID)),l(3),c("routerLink",A(16,Dr,o.subjectID,o.moduleID)),l(3),c("routerLink",A(19,Tr,o.subjectID,o.moduleID)),l(6),M(o.moduleTitle),l(3),M(o.lessonTitle),l(4),M(o.date),l(2),M(o.discTopic),l(),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngIf",!o.isLoading))},dependencies:[E,L,G,se,V,B,re,ae,le,P,ne,z,j,xe,Y],styles:[".spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}a.active[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .nav-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.discussion-container[_ngcontent-%COMP%]{padding:16px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 0 10px #0000001a}.question-section[_ngcontent-%COMP%]{margin-bottom:16px}.question-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;background-color:#e9e9e9;border-radius:4px;margin-bottom:8px}.question-date[_ngcontent-%COMP%]{font-weight:700}.question-text[_ngcontent-%COMP%]{flex:1;margin-left:16px}.answer-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;margin-bottom:16px}.answer[_ngcontent-%COMP%]{background-color:#fff;padding:8px;border-radius:4px;margin-bottom:8px;width:45%}.student-answer[_ngcontent-%COMP%]{float:left;clear:both;background-color:#f8fcf8}.teacher-answer[_ngcontent-%COMP%]{float:right;clear:both;background-color:#ececec}.answer-user[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px}.answer-date[_ngcontent-%COMP%]{font-size:.8em;color:#666;margin-bottom:8px}.answer-text[_ngcontent-%COMP%]{white-space:pre-wrap}.answer-form[_ngcontent-%COMP%]{background-color:#fff;padding:8px;border-radius:4px;box-shadow:0 0 10px #0000001a}.answer-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:100px;padding:8px;border:1px solid #cccccc;border-radius:4px;resize:none;margin-bottom:8px}.answer-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:8px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.answer-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:400px;max-width:100%;position:relative}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99;transition:color .3s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]{max-width:100%;height:44px;background-color:#05060f0a;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s cubic-bezier(.25,.01,.25,1) 0s,color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%]:hover   .input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:hover, .input2[_ngcontent-%COMP%]:focus, .input-group2[_ngcontent-%COMP%]:hover   .input2[_ngcontent-%COMP%]{outline:none;border-color:#05060f}.input-group[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:focus ~ .label[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]:hover   .label2[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]:focus ~ .label2[_ngcontent-%COMP%]{color:#05060fc2}.button-group2[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.nav-btn[_ngcontent-%COMP%]{flex:1 1 100%;max-width:100%}.button-group[_ngcontent-%COMP%]{flex-direction:row}}"]});let e=n;return e})();var Nr=()=>["/main/Subject/main"],zr=()=>["/main/Subject/main/subject"];function Vr(e,n){e&1&&(a(0,"div",12),g(1,"div",13),s())}function Br(e,n){if(e&1&&(a(0,"span",14),d(1),s()),e&2){let r=u();l(),y("",r.total," Students")}}function qr(e,n){if(e&1){let r=w();a(0,"tr",18),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.navigateToStudentAssessments(t))}),a(1,"td"),d(2),s(),a(3,"td"),d(4),ce(5,"date"),s(),a(6,"td"),d(7),s(),a(8,"td"),d(9),s(),a(10,"td"),d(11),s()()}if(e&2){let r=n.$implicit,i=n.index;Ie("alt-row",i%2===1),l(2),M(r.firstname+" "+(r.middlename||"")+" "+r.lastname),l(2),M(Ee(5,8,r.birthdate,"MMMM d, yyyy")),l(3),M(r.gender),l(2),M(r.contact_numbers||"N/A"),l(2),X("",r.completed_assessments," / ",r.total_assessments,"")}}function Hr(e,n){if(e&1&&(Se(0),_(1,qr,12,11,"tr",17),Pe()),e&2){let r=u(2);l(),c("ngForOf",r.students)}}function Ur(e,n){e&1&&(a(0,"tr")(1,"td",19),d(2,"No students enrolled in this class."),s()())}function $r(e,n){if(e&1&&(a(0,"div",15)(1,"table")(2,"thead")(3,"tr")(4,"th"),d(5,"Name"),s(),a(6,"th"),d(7,"Birthdate"),s(),a(8,"th"),d(9,"Gender"),s(),a(10,"th"),d(11,"Contact"),s(),a(12,"th"),d(13,"Assessments"),s()()(),a(14,"tbody"),_(15,Hr,2,1,"ng-container",16),s(),_(16,Ur,3,0,"ng-template",null,0,Re),s()()),e&2){let r=_e(17),i=u();l(15),c("ngIf",i.students.length)("ngIfElse",r)}}var Li=(()=>{let n=class n{constructor(i,t){this.apiserv=i,this.route=t,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.classid=localStorage.getItem("classid"),this.loadStudentByClass(this.classid)}loadStudentByClass(i){this.apiserv.getStudentsByClass(i).subscribe(t=>{this.students=t.allStudents,this.total=t.total_students,console.log(this.students),this.isLoading=!1})}navigateToStudentAssessments(i){localStorage.setItem("lrn",i.lrn),localStorage.setItem("sfirstname",i.firstname),localStorage.setItem("slastname",i.lastname),this.route.navigate(["/main/Subject/main/subject/modulesmain/",this.classid,"students",i.lrn,"details"])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R))},n.\u0275cmp=I({type:n,selectors:[["app-students"]],standalone:!0,features:[S],decls:18,vars:7,consts:[["noStudents",""],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container"],[1,"main-content"],[1,"header"],["class","loader-container",4,"ngIf"],["class","badge2",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"loader-container"],[1,"spinner"],[1,"badge2"],[1,"table-container"],[4,"ngIf","ngIfElse"],[3,"alt-row","click",4,"ngFor","ngForOf"],[3,"click"],["colspan","7",2,"text-align","center"]],template:function(t,o){t&1&&(a(0,"nav",1)(1,"ol",2)(2,"li",3)(3,"a",4),d(4,"Home"),s()(),a(5,"li",3)(6,"a",4),d(7," Subjects "),s()(),a(8,"li",5),d(9,"Students"),s()()(),a(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1"),d(14,"Students Enrolled"),s(),_(15,Vr,2,0,"div",9)(16,Br,2,1,"span",10),s(),_(17,$r,18,2,"div",11),s()()),t&2&&(l(3),c("routerLink",O(5,Nr)),l(3),c("routerLink",O(6,zr)),l(9),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading),l(),c("ngIf",!o.isLoading))},dependencies:[E,L,P,z,j,xe],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;height:80%;border-collapse:collapse;overflow-y:scroll}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left}.table-container[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4}.table-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.alt-row[_ngcontent-%COMP%]{background-color:#f9f9f9}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;background-color:#007bff;color:#fff;border-radius:4px;font-size:18px}.btn[_ngcontent-%COMP%]{padding:6px 12px;margin:0 4px;font-size:14px;cursor:pointer}.btn-view[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-message[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:16px}.search-box[_ngcontent-%COMP%]{padding:8px;width:50%;border:1px solid #ddd;border-radius:4px}.filter[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;border-radius:4px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;display:flex;align-items:center}.badge2[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:4px 12px;font-size:1.5rem;font-weight:700;color:#fff;background-color:#007bff;border-radius:12px}.main-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.text-success[_ngcontent-%COMP%]{color:green}.text-danger[_ngcontent-%COMP%]{color:red}.fa-check[_ngcontent-%COMP%], .fa-times[_ngcontent-%COMP%]{font-size:1.5rem}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}"]});let e=n;return e})();var ji=(()=>{let n=class n{transform(i,...t){return i&&i.split("/").pop()||""}};n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=zt({name:"fileName",type:n,pure:!0,standalone:!0});let e=n;return e})();var Qr=()=>["/main/Home/main/home"],Wr=()=>["/main/Subject/main/subject"],Yr=e=>["/main/Subject/main/subject/modulesmain",e,"modules"],Gr=(e,n)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"mat"],Kr=(e,n,r)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"assess","question",r],Zr=(e,n,r)=>["/main/Subject/main/subject/modulesmain",e,"modules",n,"assess","question",r,"progress"],Xr=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"mat"],Ri=(()=>{let n=class n{constructor(i,t){this.apiserv=i,this.sanitizer=t,this.subjectID=null,this.totalScore=0,this.maxScore=0,this.isTeacher=!0}ngOnInit(){this.assessTitle=localStorage.getItem("assessTitle");let i=localStorage.getItem("fname"),t=localStorage.getItem("lname");this.fname=i,this.lname=t,this.fullname=this.fname+" "+this.lname,this.lessonTitle=localStorage.getItem("lessTitle");let o=localStorage.getItem("classid"),m=localStorage.getItem("assid"),f=localStorage.getItem("moduleid"),N=localStorage.getItem("lrn");o?(this.moduleID=f,this.subjectID=+o,this.assessmentID=m,this.learnerID=N,this.loadStudentAnswers(this.assessmentID,this.learnerID),console.log("Retrieved Assessment ID from localStorage:",this.assessmentID)):console.error("No subjectID found in localStorage."),this.apiserv.getAssessmentDetails(this.assessmentID).subscribe(te=>{this.det=te,console.log(this.det)})}loadStudentAnswers(i,t){this.apiserv.getStudentAnswers(i,t).subscribe(o=>{o.status==="success"?(this.studentAnswers=o.data,this.totalScore=o.total_score,this.studScore=o.studentScore,this.studentScores=o.scores,this.maxScore=o.max_score,this.studentFile=o.studentFile,this.aid=o.answerid,console.log("student Answer ID: ",this.aid),console.log("student File: ",this.studentFile),console.log("student answers: ",this.studentAnswers),console.log("student scores: ",this.studentScores),console.log("student Total Score: ",this.studScore)):console.error("Failed to load student answers")})}viewFile(i){let t=this.apiserv+"http://localhost:8000/storage/Files/"+i;if(i.endsWith(".pdf"))window.open(t,"_blank");else{let o=document.createElement("a");o.href=t,o.download=i.split("/").pop()||"downloaded-file",o.click()}}manualCheck(i){let t={assessment_id:this.assessmentID,learner_id:this.learnerID,answerid:this.aid,score:i};this.apiserv.updateScore(t).subscribe(o=>{o.status==="success"?(b.fire({title:"Updated Score",icon:"success"}),this.totalScore=o.total_score,this.loadStudentAnswers(this.assessmentID,this.learnerID)):console.error("Failed to add score")},o=>{console.error("Error adding score",o)})}};n.\u0275fac=function(t){return new(t||n)(h(D),h($t))},n.\u0275cmp=I({type:n,selectors:[["app-viewfile"]],standalone:!0,features:[S],decls:50,vars:35,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"header"],[2,"text-align","center"],[1,"button-group"],["routerLinkActive","active",3,"routerLink"],[1,"nav-btn"],[1,"modules"],[1,"module"],[1,"p-6","bg-background","text-foreground"],[1,"header-container"],[1,"text-xl","font-bold","mb-4"],[1,"mb-4"],[1,"file"],[2,"color","blue"],[3,"click"],[2,"color","red"],["id","scoreinput","type","text",2,"width","20px","border-radius","10px",3,"ngModelChange","blur","ngModel","value"]],template:function(t,o){t&1&&(a(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),d(4,"Home"),s()(),a(5,"li",2)(6,"a",3),d(7,"Subjects"),s()(),a(8,"li",2)(9,"a",3),d(10," Modules "),s()(),a(11,"li",2)(12,"a",3),d(13," Lessons "),s()(),a(14,"li",2)(15,"a",3),d(16," Assessment "),s()(),a(17,"li",2)(18,"a",3),d(19," Progress "),s()(),a(20,"li",4),d(21,"Checking"),s()()(),a(22,"div",5)(23,"h1",6),d(24),s(),a(25,"div",7)(26,"a",8)(27,"button",9),d(28,"Learning Material"),s()()()(),a(29,"div",10)(30,"div",11)(31,"div",12)(32,"div",13)(33,"h2",14),d(34),s()(),a(35,"p",15),d(36),s(),a(37,"div",16)(38,"h3"),d(39,"File Submission: "),s(),a(40,"h5",17),d(41),ce(42,"fileName"),a(43,"button",18),p("click",function(){return o.viewFile(o.studScore.file)}),d(44,"View File"),s()(),a(45,"h6")(46,"span",19),d(47," Score: "),a(48,"input",20),W("ngModelChange",function(f){return Q(o.studScore.score,f)||(o.studScore.score=f),f}),p("blur",function(){return o.manualCheck(o.studScore.score)}),s()(),d(49),s()()()()()),t&2&&(l(3),c("routerLink",O(17,Qr)),l(3),c("routerLink",O(18,Wr)),l(3),c("routerLink",k(19,Yr,o.subjectID)),l(3),c("routerLink",A(21,Gr,o.subjectID,o.moduleID)),l(3),c("routerLink",ye(24,Kr,o.subjectID,o.moduleID,o.assessmentID)),l(3),c("routerLink",ye(28,Zr,o.subjectID,o.moduleID,o.assessmentID)),l(6),X("",o.fname," ",o.lname,"'s Assessment"),l(2),c("routerLink",A(32,Xr,o.subjectID,o.moduleID)),l(8),M(o.det.title),l(2),y(" ",o.det.instruction," "),l(5),y(" ",qe(42,15,o.studScore.file)," "),l(7),$("ngModel",o.studScore.score),c("value",o.studScore.score),l(),y("/",o.maxScore," "))},dependencies:[E,L,oe,P,Y,V,B,De,ji],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.notification-icon[_ngcontent-%COMP%]{cursor:pointer;display:flex;justify-content:flex-end;margin-top:20px;margin-right:20px}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.student-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.student-count[_ngcontent-%COMP%]{font-size:1rem;color:#333}.eye-icon[_ngcontent-%COMP%]{font-size:1.5rem;cursor:pointer}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px;flex-wrap:wrap}.nav-btn[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;flex:1 1 auto;max-width:200px}.nav-btn2[_ngcontent-%COMP%]{padding:5px 10px;margin-top:5px;margin-left:5px;background-color:#007bff;color:#fff;border:none;border-radius:10px;cursor:pointer;flex:1 1 auto;max-width:200px}a.active[_ngcontent-%COMP%]   .nav-btn[_ngcontent-%COMP%], .nav-btn[_ngcontent-%COMP%]:hover, .nav-btn2[_ngcontent-%COMP%]:hover{background-color:#0056b3}.modules[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.module[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px solid #ddd}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.module[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0c7db1;font-weight:700}.module[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin:0}.file-link[_ngcontent-%COMP%]{margin-top:5px;padding-left:20px;display:flex;justify-content:space-between;align-items:center}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0056b3;font-weight:400}.file-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.hoverable-question[_ngcontent-%COMP%]{cursor:pointer}.hoverable-question[_ngcontent-%COMP%]:hover{color:#007bff;background-color:#f1f1f1;border-radius:4px}.modal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;justify-content:center;align-items:center}.modal.show[_ngcontent-%COMP%]{display:flex}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 2px 4px #0000001a;width:90%;max-width:600px;position:relative;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:20px;cursor:pointer}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.label[_ngcontent-%COMP%]{margin-bottom:.3rem;font-size:.9rem;font-weight:700;color:#05060f99}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{max-width:100%;background-color:#f5f5f5;padding:0 1rem;border:2px solid transparent;font-size:1rem;transition:border-color .3s,color .3s,background .2s}.input[_ngcontent-%COMP%]:hover, .input[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:hover, .textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#05060f}.textarea[_ngcontent-%COMP%]{height:100px;resize:vertical}.choice-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 45%}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;background-color:#0c7db1;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer;transition:background-color .3s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#055a8c}.input-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}.input-wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:.5rem}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:95%;padding:15px}.choice-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{flex:1 1 100%}.textarea[_ngcontent-%COMP%]{height:120px}}@media (max-width: 480px){.modal-content[_ngcontent-%COMP%]{width:100%;padding:10px}.textarea[_ngcontent-%COMP%]{height:150px}}"]});let e=n;return e})();var rt=()=>{let e=typeof window<"u"?window:void 0;return e&&e.tinymce?e.tinymce:null},Jr=(()=>{class e{onBeforePaste=new x;onBlur=new x;onClick=new x;onCompositionEnd=new x;onCompositionStart=new x;onCompositionUpdate=new x;onContextMenu=new x;onCopy=new x;onCut=new x;onDblclick=new x;onDrag=new x;onDragDrop=new x;onDragEnd=new x;onDragGesture=new x;onDragOver=new x;onDrop=new x;onFocus=new x;onFocusIn=new x;onFocusOut=new x;onKeyDown=new x;onKeyPress=new x;onKeyUp=new x;onMouseDown=new x;onMouseEnter=new x;onMouseLeave=new x;onMouseMove=new x;onMouseOut=new x;onMouseOver=new x;onMouseUp=new x;onPaste=new x;onSelectionChange=new x;onActivate=new x;onAddUndo=new x;onBeforeAddUndo=new x;onBeforeExecCommand=new x;onBeforeGetContent=new x;onBeforeRenderUI=new x;onBeforeSetContent=new x;onChange=new x;onClearUndos=new x;onDeactivate=new x;onDirty=new x;onExecCommand=new x;onGetContent=new x;onHide=new x;onInit=new x;onInput=new x;onInitNgModel=new x;onLoadContent=new x;onNodeChange=new x;onPostProcess=new x;onPostRender=new x;onPreInit=new x;onPreProcess=new x;onProgressState=new x;onRedo=new x;onRemove=new x;onReset=new x;onResizeEditor=new x;onSaveContent=new x;onSetAttrib=new x;onObjectResizeStart=new x;onObjectResized=new x;onObjectSelected=new x;onSetContent=new x;onShow=new x;onSubmit=new x;onUndo=new x;onVisualAid=new x;static \u0275fac=function(i){return new(i||e)};static \u0275dir=Ce({type:e,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onCompositionEnd:"onCompositionEnd",onCompositionStart:"onCompositionStart",onCompositionUpdate:"onCompositionUpdate",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInput:"onInput",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}})}return e})(),Ni=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onCompositionEnd","onCompositionStart","onCompositionUpdate","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],st=(e,n,r)=>dt(e,n).pipe($e(r)),es=(e,n,r)=>{ts(e).forEach(t=>{let o=e[t];st(n,t.substring(2),r).subscribe(m=>{rs(o)&&e.ngZone.run(()=>o.emit({event:m,editor:n}))})})},ts=e=>{let n=zi(e.ignoreEvents,[]);return zi(e.allowedEvents,Ni).filter(i=>Ni.includes(i)&&!n.includes(i))},zi=(e,n)=>typeof e=="string"?e.split(",").map(r=>r.trim()):Array.isArray(e)?e:n,Vi=0,is=e=>{let r=new Date().getTime(),i=Math.floor(Math.random()*1e9);return Vi++,e+"_"+i+Vi+String(r)},Bi=e=>typeof e<"u"&&e.tagName.toLowerCase()==="textarea",qi=e=>typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" "),ns=(e,n)=>qi(e).concat(qi(n)),os=()=>{},Hi=e=>e==null,rs=e=>e.observed||e.observers?.length>0,ss=()=>e=>e.pipe(Ft(),Ue(()=>{})),as=()=>{let e=new St(null),n=e.pipe(kt(Boolean),Rt(([r,i])=>{let t=r.createElement("script");return t.referrerPolicy="origin",t.type="application/javascript",t.src=i,r.head.appendChild(t),dt(t,"load").pipe(ss())}),At({bufferSize:1,refCount:!0}));return{load:(...r)=>(e.getValue()||e.next(r),n),reinitialize:()=>{e.next(null)}}},ls=as(),ds=new Qe("TINYMCE_SCRIPT_SRC"),cs={provide:Qt,useExisting:Nt(()=>Ze),multi:!0},Ze=(()=>{class e extends Jr{cdRef;platformId;tinymceScriptSrc;cloudChannel="7";apiKey="no-api-key";licenseKey;init;id="";initialValue;outputFormat;inline;tagName;plugins;toolbar;modelEvents="change input undo redo";allowedEvents;ignoreEvents;set disabled(r){this._disabled=r,this._editor&&this._editor.initialized&&(typeof this._editor.mode?.set=="function"?this._editor.mode.set(r?"readonly":"design"):this._editor.setMode(r?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}ngZone;_elementRef;_element;_disabled;_editor;onTouchedCallback=os;onChangeCallback;destroy$=new Xe;constructor(r,i,t,o,m){super(),this.cdRef=t,this.platformId=o,this.tinymceScriptSrc=m,this._elementRef=r,this.ngZone=i}writeValue(r){this._editor&&this._editor.initialized?this._editor.setContent(Hi(r)?"":r):this.initialValue=r===null?void 0:r}registerOnChange(r){this.onChangeCallback=r}registerOnTouched(r){this.onTouchedCallback=r}setDisabledState(r){this.disabled=r}ngAfterViewInit(){tt(this.platformId)&&(this.id=this.id||is("tiny-angular"),this.inline=this.inline!==void 0?this.inline!==!1:!!this.init?.inline,this.createElement(),rt()!==null?this.initialise():this._element&&this._element.ownerDocument&&ls.load(this._element.ownerDocument,this.getScriptSrc()).pipe($e(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),rt()!==null&&rt().remove(this._editor)}createElement(){let r=typeof this.tagName=="string"?this.tagName:"div";if(this._element=document.createElement(this.inline?r:"textarea"),this._element){let i=document.getElementById(this.id);i&&i!==this._elementRef.nativeElement&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,Bi(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element)}}initialise=()=>{let r=lt(Oe({},this.init),{selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,license_key:this.licenseKey,plugins:ns(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:i=>{this._editor=i,st(i,"init",this.destroy$).subscribe(()=>{this.initEditor(i)}),es(this,i,this.destroy$),this.init&&typeof this.init.setup=="function"&&this.init.setup(i)}});Bi(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{rt().init(r)})};getScriptSrc(){return Hi(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(r){st(r,"blur",this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.onTouchedCallback())}),st(r,this.modelEvents,this.destroy$).subscribe(()=>{this.cdRef.markForCheck(),this.ngZone.run(()=>this.emitOnChange(r))}),typeof this.initialValue=="string"&&this.ngZone.run(()=>{r.setContent(this.initialValue),r.getContent()!==this.initialValue&&this.emitOnChange(r),this.onInitNgModel!==void 0&&this.onInitNgModel.emit(r)})}emitOnChange(r){this.onChangeCallback&&this.onChangeCallback(r.getContent({format:this.outputFormat}))}static \u0275fac=function(i){return new(i||e)(h(ue),h(ge),h(ie),h(Je),h(ds,8))};static \u0275cmp=I({type:e,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",licenseKey:"licenseKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[Be([cs]),Bt,S],decls:0,vars:0,template:function(i,t){},dependencies:[P,Y],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return e})();var ms=()=>({height:300,menubar:!1,plugins:"link lists image table code help wordcount",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code"}),us=(e,n)=>["/main/Subject/main/subject/modulesmain/",e,"modules",n,"mat"],Ui=(()=>{let n=class n{constructor(i,t){this.apiService=i,this.route=t,this.isSubmitting=!1,this.selectedFile=null,this.createLesson=new me({modules_id:new T(localStorage.getItem("moduleid")),topic_title:new T(null),lesson:new T(null)})}ngOnInit(){this.subjectID=localStorage.getItem("classid"),this.storedModuleID=localStorage.getItem("moduleid")}onEditorInit(i){let t=i.editor;t.setContent(this.createLesson.get("lesson")?.value||""),t.on("keyup change",()=>{this.createLesson.get("lesson")?.setValue(t.getContent())})}onFileSelected(i){let t=i.target.files[0];t&&(this.selectedFile=t)}save(){let i=localStorage.getItem("classid"),t=localStorage.getItem("moduleid"),o=new FormData;console.log("Module ID:",this.createLesson.value.modules_id),o.append("module_id",this.createLesson.value.modules_id),o.append("topic_title",this.createLesson.value.topic_title),o.append("lesson",this.createLesson.value.lesson),this.selectedFile&&o.append("file",this.selectedFile),this.isSubmitting=!0,this.apiService.createTopic(o).subscribe(m=>{b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:N=>{N.onmouseenter=b.stopTimer,N.onmouseleave=b.resumeTimer}}).fire({icon:"success",title:"Lesson added"}),console.log("Lesson created successfully:",m),this.route.navigate(["/main/Subject/main/subject/modulesmain",i,"modules",t,"mat"]),this.isSubmitting=!1},m=>{b.fire({title:"Error",text:"Error Creating lesson: "+m,icon:"error"}),console.error("Error creating lesson:",m),this.isSubmitting=!1})}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R))},n.\u0275cmp=I({type:n,selectors:[["app-addmat"]],standalone:!0,features:[S],decls:21,vars:8,consts:[[1,"form-container"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],[1,"input-group"],["for","topicTitle",1,"label"],["formControlName","topic_title","autocomplete","off","name","topicTitle","id","topicTitle","type","text","required","",1,"input"],[1,"input-group2"],["for","lesson",1,"label2"],["apiKey","1wgw3bs1rmt6dd6ewh1l74jf5flshftxbyz2p3mlqosec3o7",3,"onInit","init"],["for","file",1,"label"],["type","file","name","file","id","file",1,"input",3,"change"],[1,"button-group2"],["type","submit",1,"submit-btn",3,"disabled"],[1,"submit-btn","ms-3",2,"background-color","gray",3,"routerLink"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"h2"),d(2,"Add Lesson"),s(),a(3,"form",1),p("ngSubmit",function(){return o.save()}),a(4,"div",2)(5,"label",3),d(6,"Topic Title"),s(),g(7,"input",4),s(),a(8,"div",5)(9,"label",6),d(10,"Lesson"),s(),a(11,"editor",7),p("onInit",function(f){return o.onEditorInit(f)}),s()(),a(12,"div",2)(13,"label",8),d(14,"File"),s(),a(15,"input",9),p("change",function(f){return o.onFileSelected(f)}),s()(),a(16,"div",10)(17,"button",11),d(18,"Save"),s(),a(19,"button",12),d(20,"Cancel"),s()()()()),t&2&&(l(3),c("formGroup",o.createLesson),l(8),c("init",O(4,ms)),l(6),c("disabled",o.isSubmitting),l(2),c("routerLink",A(5,us,o.subjectID,o.storedModuleID)))},dependencies:[E,L,P,he,Ae,Fe,G,se,V,B,re,nt,ae,le,Ze],styles:[".form-container[_ngcontent-%COMP%]{width:80%;height:690px;margin:0 auto;padding:30px;border:1px solid #ccc;border-radius:10px;background-color:#fbfbfb;box-sizing:border-box}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{margin-bottom:10px}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:700}.input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]{width:100%;height:50px;padding:10px;box-sizing:border-box;font-size:16px}.button-group2[_ngcontent-%COMP%]{text-align:right;margin-top:1px}.submit-btn[_ngcontent-%COMP%]{padding:20px 30;background-color:#0385ff;color:#fff;border:none;cursor:pointer;width:100px;height:40px;border-radius:5px;font-size:20px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#4ba6fc}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}.textarea-input[_ngcontent-%COMP%]{width:100%;height:300px;padding:10px;font-size:16px;box-sizing:border-box;resize:none}"]});let e=n;return e})();var ps=()=>({height:300,menubar:!1,plugins:"link lists image table code",toolbar:"undo redo | formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | code"});function fs(e,n){if(e&1&&(a(0,"span"),d(1),s()),e&2){let r=u();l(),M(r.fileName)}}var $i=(()=>{let n=class n{constructor(i,t,o,m,f){this.apiserv=i,this.router=t,this.route=o,this.http=m,this.cdr=f,this.lesson_id=localStorage.getItem("Lesson ID"),this.fileName=null,this.selectedFile=null,this.updateLessonForm=new me({modules_id:new T(localStorage.getItem("moduleid")),topic_title:new T(null),lesson:new T(null)})}ngOnInit(){let i=localStorage.getItem("Lesson Id");console.log("lesson",i),this.idNumber=Number(i),this.apiserv.getLesson(this.idNumber).subscribe(t=>{this.lesson=t,console.log(t),this.updateLessonForm.controls.topic_title.setValue(this.lesson[0].topic_title),this.updateLessonForm.controls.lesson.setValue(this.lesson[0].lesson),this.tinyMCEEditor&&this.tinyMCEEditor.setContent(this.lesson[0].lesson||""),this.fileName=this.lesson[0].file||null})}onFileSelect(i){let t=i.target.files[0];t&&(this.selectedFile=t,this.fileName=t.name)}onEditorInit(i){this.tinyMCEEditor=i.editor;let t=this.updateLessonForm.get("lesson")?.value||"";this.tinyMCEEditor.setContent(t),this.tinyMCEEditor.on("keyup change",()=>{this.updateLessonForm.get("lesson")?.setValue(this.tinyMCEEditor.getContent())})}update(){let i=localStorage.getItem("classid"),t=localStorage.getItem("moduleid");console.log(this.updateLessonForm.value),console.log("idnum",this.idNumber),this.updateLessonForm.valid?this.apiserv.updateLessonInfo(this.idNumber,this.updateLessonForm.value).subscribe(o=>{console.log("Lesson updated successfully",o),this.router.navigate(["/main/Subject/main/subject/modulesmain",i,"modules",t,"mat"])},o=>{console.error("Error updating Lesson",o)}):console.error("Form is invalid")}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R),h(be),h(ke),h(ie))},n.\u0275cmp=I({type:n,selectors:[["app-update-lesson"]],standalone:!0,features:[S],decls:19,vars:4,consts:[[1,"form-container"],[3,"ngSubmit","formGroup"],[1,"input-group"],["for","topicTitle",1,"label"],["formControlName","topic_title","autocomplete","off","name","topic_title","id","topic_title","type","text","required","",1,"input"],[1,"input-group2"],["for","lesson",1,"label2"],["apiKey","1wgw3bs1rmt6dd6ewh1l74jf5flshftxbyz2p3mlqosec3o7",3,"onInit","init"],[4,"ngIf"],[1,"button-group2"],["type","submit",1,"submit-btn"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"h2"),d(2,"Update Lesson"),s(),a(3,"form",1),p("ngSubmit",function(){return o.update()}),a(4,"div",2)(5,"label",3),d(6,"Topic Title"),s(),g(7,"input",4),s(),a(8,"div",5)(9,"label",6),d(10,"Lesson"),s(),a(11,"editor",7),p("onInit",function(f){return o.onEditorInit(f)}),s()(),a(12,"div")(13,"label"),d(14,"Current File: "),s(),_(15,fs,2,1,"span",8),s(),a(16,"div",9)(17,"button",10),d(18,"Update"),s()()()()),t&2&&(l(3),c("formGroup",o.updateLessonForm),l(8),c("init",O(3,ps)),l(4),c("ngIf",o.fileName))},dependencies:[E,P,j,he,Ae,Fe,G,se,V,B,re,nt,ae,le,Ze],styles:[".form-container[_ngcontent-%COMP%]{width:80%;height:690px;margin:0 auto;padding:30px;border:1px solid #ccc;border-radius:10px;background-color:#fbfbfb;box-sizing:border-box}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{margin-bottom:10px}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:700}.input[_ngcontent-%COMP%], .input2[_ngcontent-%COMP%]{width:100%;height:50px;padding:10px;box-sizing:border-box;font-size:16px}.button-group2[_ngcontent-%COMP%]{text-align:right;margin-top:1px}.submit-btn[_ngcontent-%COMP%]{padding:20px 30;background-color:#0385ff;color:#fff;border:none;cursor:pointer;width:100px;height:40px;border-radius:5px;font-size:20px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#4ba6fc}.textarea-input[_ngcontent-%COMP%]{width:100%;height:350px;padding:10px;font-size:16px;box-sizing:border-box;resize:none}"]});let e=n;return e})();var Qi=(()=>{let n=class n{constructor(i,t,o,m,f){this.apiserv=i,this.router=t,this.route=o,this.http=m,this.cdr=f,this.isSubmitting=!1,this.lesson_id=localStorage.getItem("Lesson ID"),this.subjectID=null,this.selectedFile=null}ngOnInit(){let i=localStorage.getItem("Lesson Id");this.lessonId=localStorage.getItem("Lesson Id"),console.log("lesson",i),console.log("Lesson ID:",this.lessonId);let t=localStorage.getItem("classid"),o=localStorage.getItem("moduleid"),m=localStorage.getItem("moduletitle");t?(this.subjectID=+t,this.moduleID=o,this.moduleTitle=m,this.getLessons(this.lessonId),console.log("Retrieved Subject ID from localStorage:",this.subjectID)):console.error("No subjectID found in localStorage.")}getLessons(i){this.apiserv.getLesson(i).subscribe(t=>{this.lessons=t,this.LessonDetails=t,this.cdr.detectChanges(),console.log("Lessons Details:",this.LessonDetails)},t=>{console.error("Error fetching lesson details:",t)})}onFileSelected(i){let t=i.target.files[0];t&&(this.selectedFile=t,console.log(this.selectedFile))}onUpload(){let i=localStorage.getItem("classid"),t=localStorage.getItem("moduleid");this.lessonId=localStorage.getItem("Lesson Id"),this.isSubmitting=!0,this.selectedFile?this.apiserv.uploadFile(this.lessonId,this.selectedFile).subscribe(o=>{console.log("File uploaded successfully:",o),this.router.navigate(["/main/Subject/main/subject/modulesmain",i,"modules",t,"mat"]),this.isSubmitting=!1},o=>{console.error("Error uploading file:",o),b.fire({title:"Error",text:"Error Error Uploading File: "+o,icon:"error"}),this.isSubmitting=!1}):(b.fire({title:"Error",text:"No file selected or lesson ID missing",icon:"error"}),this.isSubmitting=!1)}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R),h(be),h(ke),h(ie))},n.\u0275cmp=I({type:n,selectors:[["app-upload"]],standalone:!0,features:[S],decls:16,vars:2,consts:[[1,"card-container"],[1,"card"],[1,"card-content"],[1,"input-group"],[1,"file-upload-section"],["type","file",1,"file-input",3,"change"],[1,"button-group"],["type","button",1,"submit-btn",3,"click","disabled"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),d(3,"Upload File or Image "),s(),a(4,"div",2)(5,"div",3)(6,"h5"),d(7),s()(),a(8,"div",4)(9,"label"),d(10,"File"),s(),g(11,"br"),a(12,"input",5),p("change",function(f){return o.onFileSelected(f)}),s()(),a(13,"div",6)(14,"button",7),p("click",function(){return o.onUpload()}),d(15,"Upload"),s()()()()()),t&2&&(l(7),M(o.lessons.topic_title),l(7),c("disabled",o.isSubmitting))},dependencies:[E,P,he,Ae,Fe,G],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:5px;padding:0}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f4f4f9;display:flex;justify-content:center;align-items:center;height:100vh;padding:20px}.card-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:20px;width:100%;transition:.3s ease-in-out}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input-group[_ngcontent-%COMP%], .input-group2[_ngcontent-%COMP%]{margin-bottom:15px}.label[_ngcontent-%COMP%], .label2[_ngcontent-%COMP%]{display:block;font-size:18px;color:#555;margin-bottom:1px}.input[_ngcontent-%COMP%], .textarea-input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ddd;border-radius:5px;font-size:14px}.textarea-input[_ngcontent-%COMP%]{resize:none}.file-upload-section[_ngcontent-%COMP%]{margin-top:15px}.file-input[_ngcontent-%COMP%]{margin-top:5px}.button-group[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;width:100%}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#2980b9}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#d6d6d6;color:#a1a1a1;cursor:not-allowed}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]{padding:10px}.card[_ngcontent-%COMP%]{padding:15px}.input[_ngcontent-%COMP%], .textarea-input[_ngcontent-%COMP%]{font-size:13px;padding:8px}.submit-btn[_ngcontent-%COMP%]{padding:8px 15px}}@media (max-width: 480px){.card[_ngcontent-%COMP%]{padding:10px}h2[_ngcontent-%COMP%]{font-size:18px}.input[_ngcontent-%COMP%], .textarea-input[_ngcontent-%COMP%]{font-size:12px}.submit-btn[_ngcontent-%COMP%]{padding:7px 10px}}"]});let e=n;return e})();var gs=()=>["/main/Subject/main"],hs=()=>["/main/Subject/main/subject"],_s=e=>["/main/Subject/main/subject/modulesmain",e,"students"];function xs(e,n){e&1&&(a(0,"div",11),g(1,"div",12),s())}function bs(e,n){if(e&1&&(a(0,"span",18),d(1),s()),e&2){let r=u().$implicit;l(),y(" Score: ",r.score," ")}}function vs(e,n){if(e&1){let r=w();a(0,"li")(1,"div",17),p("click",function(){let t=v(r).$implicit,o=u(3);return C(o.navigateToProgress(t.assessID,t.lesson_title,t.module_id))}),a(2,"span",18),d(3),s(),a(4,"span",19),d(5),ce(6,"date"),s(),a(7,"span",18)(8,"label")(9,"span"),d(10),s(),g(11,"input",20),s()(),_(12,bs,2,1,"span",21),s()()}if(e&2){let r=n.$implicit;l(3),y("Lesson: ",r.lesson_title,""),l(2),y("Due: ",Ee(6,5,r.due_date,"MMMM d, yyyy"),""),l(5),M(r.assessment_title),l(),c("checked",r.allQuestionsAnswered),l(),c("ngIf",r.score!=0&&r.score!=null)}}function Cs(e,n){if(e&1&&(Se(0),a(1,"ul",15),_(2,vs,13,8,"li",16),s(),Pe()),e&2){let r=u(2);l(2),c("ngForOf",r.studentsAssess)}}function Ms(e,n){e&1&&(a(0,"div",22)(1,"h5"),d(2,"No Assessment yet"),s()())}function ys(e,n){if(e&1&&(a(0,"div",13)(1,"ul"),_(2,Cs,3,1,"ng-container",14)(3,Ms,3,0,"ng-template",null,0,Re),s()()),e&2){let r=_e(4),i=u();l(2),c("ngIf",i.studentsAssess.length)("ngIfElse",r)}}var Wi=(()=>{let n=class n{constructor(i,t){this.apiserv=i,this.route=t,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.moduleID=localStorage.getItem("moduleid"),this.id=localStorage.getItem("lrn"),this.classid=localStorage.getItem("classid"),this.fname=localStorage.getItem("sfirstname"),this.lname=localStorage.getItem("slastname"),this.loadStudentAssesments(this.id,this.classid)}loadStudentAssesments(i,t){this.apiserv.getStudentAssessments(i,t).subscribe(o=>{this.studentsAssess=o.assessments,this.status=o.status,console.log(this.studentsAssess),console.log(this.status),this.isLoading=!1})}navigateToProgress(i,t,o){localStorage.setItem("assid",i.toString()),localStorage.setItem("lrn",this.id),localStorage.setItem("lessTitle",t),localStorage.setItem("moduleid",o),localStorage.setItem("fname",this.fname),localStorage.setItem("lname",this.lname),this.route.navigate(["/main/Subject/main/subject/modulesmain",this.classid,"modules",this.moduleID,"assess","question",i,"checking"])}};n.\u0275fac=function(t){return new(t||n)(h(D),h(R))},n.\u0275cmp=I({type:n,selectors:[["app-studentassessment"]],standalone:!0,features:[S],decls:20,vars:10,consts:[["noStudents",""],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"container"],[1,"main-content"],[1,"header"],["class","loader-container",4,"ngIf"],["class","assessments-list",4,"ngIf"],[1,"loader-container"],[1,"spinner"],[1,"assessments-list"],[4,"ngIf","ngIfElse"],[1,"assessment-list"],[4,"ngFor","ngForOf"],[1,"assessment-row",3,"click"],[1,"assessment-title"],[1,"assessment-title",2,"color","red"],["type","checkbox","disabled","",1,"assessment-checkbox",3,"checked"],["class","assessment-title",4,"ngIf"],[2,"text-align","center"]],template:function(t,o){t&1&&(a(0,"nav",1)(1,"ol",2)(2,"li",3)(3,"a",4),d(4,"Home"),s()(),a(5,"li",3)(6,"a",4),d(7," Subjects "),s()(),a(8,"li",3)(9,"a",4),d(10," Students "),s()(),a(11,"li",5),d(12,"Student Assessments"),s()()(),a(13,"div",6)(14,"div",7)(15,"div",8)(16,"h1"),d(17),s()(),_(18,xs,2,0,"div",9)(19,ys,5,2,"div",10),s()()),t&2&&(l(3),c("routerLink",O(6,gs)),l(3),c("routerLink",O(7,hs)),l(3),c("routerLink",k(8,_s,o.classid)),l(8),y("",o.fname+" "+o.lname," All Assessments"),l(),c("ngIf",o.isLoading),l(),c("ngIf",!o.isLoading))},dependencies:[E,L,P,z,j,xe],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{display:flex;padding:20px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;height:80%;border-collapse:collapse;overflow-y:scroll}.table-container[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left}.table-container[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f4f4f4}.table-container[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.alt-row[_ngcontent-%COMP%]{background-color:#f9f9f9}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;background-color:#007bff;color:#fff;border-radius:4px;font-size:18px}.btn[_ngcontent-%COMP%]{padding:6px 12px;margin:0 4px;font-size:14px;cursor:pointer}.btn-view[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-message[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:16px}.search-box[_ngcontent-%COMP%]{padding:8px;width:50%;border:1px solid #ddd;border-radius:4px}.filter[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;border-radius:4px}.sidebar[_ngcontent-%COMP%]{width:300px;height:600px;margin-right:20px;background-color:#fff;padding:20px;box-shadow:0 2px 4px #0000001a}.course-details[_ngcontent-%COMP%]{text-align:center}.course-details[_ngcontent-%COMP%]   img.profile-pic[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%}.course-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .course-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px 0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#0c7db1}.main-content[_ngcontent-%COMP%]{padding-left:10px;max-width:1000px;width:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;display:flex;align-items:center}.badge2[_ngcontent-%COMP%]{display:inline-block;margin-left:8px;padding:4px 12px;font-size:1.5rem;font-weight:700;color:#fff;background-color:#007bff;border-radius:12px}.main-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:20px}.table-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.text-success[_ngcontent-%COMP%]{color:green}.text-danger[_ngcontent-%COMP%]{color:red}.fa-check[_ngcontent-%COMP%], .fa-times[_ngcontent-%COMP%]{font-size:1.5rem}.assessment-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.assessment-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #ccc}.assessment-title[_ngcontent-%COMP%]{flex:1;text-align:left}.assessment-checkbox[_ngcontent-%COMP%]{margin-left:10px;width:20px;height:20px}.finished[_ngcontent-%COMP%]{color:green;font-weight:700}.not-finished[_ngcontent-%COMP%]{color:red;font-weight:700}.spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin .5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sidebar[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;height:auto}.main-content[_ngcontent-%COMP%]{padding-left:0;max-width:100%}.modules[_ngcontent-%COMP%]{width:100%}}"]});let e=n;return e})();var lc=[{path:"main",component:Jt,children:[{path:"subject",component:ei},{path:"subject/modulesmain/:id",component:wi,children:[{path:"modules",component:yi},{path:"students",component:Li},{path:"students/:lrn/details",component:Wi},{path:"assessments",component:vt},{path:"modules/:moduleid/mat",component:Si},{path:"modules/:moduleid/addmat",component:Ui},{path:"modules/:moduleid/updateLesson",component:$i},{path:"modules/:moduleid/upload",component:Qi},{path:"modules/:moduleid/assess",component:vt},{path:"modules/:moduleid/discuss",component:Fi},{path:"modules/:moduleid/mat/lesson",component:Pi},{path:"modules/:moduleid/assess/question/:questionid",component:Ei},{path:"modules/:moduleid/discuss/:discid/discussion",component:Ai},{path:"modules/:moduleid/assess/question/:questionid/progress",component:ki},{path:"modules/:moduleid/assess/question/:questionid/checking",component:Ti},{path:"modules/:moduleid/assess/question/:questionid/file",component:Ri},{path:"",redirectTo:"modules",pathMatch:"full"}]},{path:"",redirectTo:"subject",pathMatch:"full"}]},{path:"",redirectTo:"main",pathMatch:"full"}];export{lc as a};
